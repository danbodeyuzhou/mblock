(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{1281:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(26),l=a(30),i=a(19),o=a(4),c=a.n(o),m=a(13),h=a(67),p=a(1163),E=a(1176),d=a(1174);function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class N extends r.a.Component{constructor(e){super(e),g(this,"handleCancel",()=>{m.a.replace("/")}),g(this,"handleSubmit",()=>{const{name:e}=this.state;this.validNewName(this.state.name)&&(this.props.saveProject(!0,{name:e,isSelfProject:!0,isShare:!1}),m.a.replace("/"))}),g(this,"renderTitle",()=>{const{intlr:e}=this.props;return r.a.createElement("div",{className:"pwd-title title-tac"},e.messages["MENU.FILE.SAVEAS"])}),g(this,"handleChange",e=>{const t=c.a.trim(e.target.value);this.validNewName(t,!0)}),g(this,"validNewName",(e,t=!1)=>{const{intlr:a}=this.props;return t||!c.a.isNull(e)&&""!==e?e.length>48&&e.length>=this.state.name.length?(this.setState({errMsg:a.messages["FORM.FIELD.NEWNAME.MAX.MSG"]}),!1):(this.setState({name:e,errMsg:""}),!0):(this.setState({errMsg:a.messages["FORM.FIELD.NEWNAME.REQUIRE.MSG"]}),!1)}),g(this,"footer",()=>{const{intlr:e}=this.props;return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button",onClick:this.handleSubmit},e.messages["BUTTON.OK.TEXT"]),r.a.createElement(h.a,{type:"primary",ghost:!0,onClick:this.handleCancel},e.messages["BUTTON.CANCEL.TEXT"]))});const{project:t}=e,{params:a}=e.match;this.state={name:i.a.getNewProjectName(t.name||a.name,t.projects),errMsg:""}}render(){const{intlr:e}=this.props,t=this.state,a=""===t.errMsg?{marginTop:"10px"}:{marginTop:"10px",borderColor:"#f5222d"};return r.a.createElement(p.a,{className:"small-modal",visible:!0,title:this.renderTitle(),width:"100%",maskClosable:!1,keyboard:!1,closable:!1,onCancel:this.handleCancel,footer:this.footer()},r.a.createElement(E.a,null,r.a.createElement(E.a.Item,null,r.a.createElement("label",{style:{paddingLeft:"2px"}},e.messages["MENU.FILE.SAVE.NAME"]),r.a.createElement(d.a,{style:a,value:t.name,type:"text",placeholder:e.messages["MENU.FILE.SAVE.NAME"],onChange:this.handleChange}),r.a.createElement("div",{className:"ant-form-explain",style:{color:"#f5222d"}},t.errMsg))))}}t.default=Object(n.connect)(e=>({intlr:e.intlr,project:e.project}),e=>({saveProject:(t,a,s)=>e(l.a.saveProject(t,a,s))}))(N)}}]);