(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1228:function(e,t,n){(e.exports=n(68)(!1)).push([e.i,"@keyframes rotates {\n  0% {\n    transform: rotate(0deg);\n    -webkit-transform: rotate(0deg);\n    -moz-transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n  }\n}\n@-webkit- @keyframes rotates {\n  0% {\n    transform: rotate(0deg);\n    -webkit-transform: rotate(0deg);\n    -moz-transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n    -webkit-transform: rotate(360deg);\n    -moz-transform: rotate(360deg);\n  }\n}\n.lang-checker .ant-modal-title {\n  font-weight: 500;\n}\n.lang-checker p {\n  text-align: center;\n  font-size: 14px;\n  margin-bottom: 0;\n  display: flex;\n  justify-content: center;\n}\n.lang-checker p span {\n  text-align: left;\n  display: inline-block;\n}\n.lang-checker .icon-wangluoyichangchengseV {\n  color: #fdc02f;\n}\n.lang-checker .icon-success {\n  color: #62d669;\n}\n.lang-checker .icon-wangluoyichangchengseV,\n.lang-checker .icon-success {\n  margin-right: 5px;\n  font-size: 1rem;\n  margin-top: 2px;\n  width: 30px;\n  text-align: right;\n}\n.lang-checker .loading-icon {\n  width: 40px;\n  color: var(--BTN-HOVER-COLOR);\n  transform: rotate(-80deg);\n  margin-bottom: 1rem;\n  animation: rotates 1s linear infinite;\n}\n.modal-content-wrapper {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding-bottom: 2rem;\n}\n.checking-tip {\n  font-size: 12px;\n  color: #888888;\n  letter-spacing: 0;\n  text-align: center;\n}\n",""])},1262:function(e,t,n){var a=n(1228);"string"==typeof a&&(a=[[e.i,a,""]]);var s={transform:void 0},r=n(88)(a,s);a.locals&&(e.exports=a.locals),a.locals||e.hot.accept(1228,(function(){var t=n(1228);"string"==typeof t&&(t=[[e.i,t,""]]),r(t)})),e.hot.dispose((function(){r()}))},1263:function(e,t,n){e.exports=n.p+"static/resource/4008b0f976236f2a8fd8925f8483cd89.svg"},1288:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(26),o=n(67),c=n(1163),i=n(5),l=n(13),p=n(17),m=n(321),d=(n(1262),n(1263)),g=n.n(d),u=n(51),h=n(52);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends s.a.Component{constructor(){super(),f(this,"syncRemote",async()=>{const{updateDownloadStatus:e,updateLatestStatus:t,change:n,updateSupportedLangNames:a,intlr:s}=this.props;e(i.a.LANG_DOWNLOAD_STATUS.DOING),t(!1);const r=await m.a.syncRemote(this.onProgress.bind(this),t=>{e(i.a.LANG_DOWNLOAD_STATUS.FAILURE)},()=>{e(i.a.LANG_DOWNLOAD_STATUS.SUCCESS),a();const t=s.langKey;n(t)});!1===r?t(!0):"function"==typeof r&&(this.abortUpdating=r)}),f(this,"handleCancel",()=>{l.a.replace(Object(p.parseRoute)("/")),this.abortUpdating&&this.abortUpdating()}),f(this,"handleRetry",()=>{this.abortUpdating&&this.abortUpdating(),this.syncRemote()}),this.state={progress:0}}componentDidMount(){this.syncRemote()}onProgress(e){this.setState({progress:e.percent})}shouldComponentUpdate(e){return!(!e||!this.props)&&(e.intlr.downloadStatus!==this.props.intlr.downloadStatus||e.intlr.isLatest!==this.props.intlr.isLatest)}network(){const{messages:e}=this.props.intlr;return{content:s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement(h.a,{type:"icon-wangluoyichangchengseV",className:"icon-wangluoyichangchengseV"}),s.a.createElement("span",null,e["LANG.CHECKER.NETWORK.ERROR"]))),footer:[s.a.createElement(o.a,{type:"primary",key:"later",onClick:this.handleRetry},e["BUTTON.RETRY.TEXT"])]}}checking(){const{messages:e}=this.props.intlr,{progress:t}=this.state;return{content:s.a.createElement("div",{className:"modal-content-wrapper"},s.a.createElement("img",{src:g.a,className:"loading-icon"}),s.a.createElement("p",{className:"checking-tip"},s.a.createElement("span",null,e["LANG.CHECKER.DOING"]))),footer:null}}success(){const{messages:e}=this.props.intlr;return{content:s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement(h.a,{type:"icon-success",className:"icon-success"}),s.a.createElement("span",null,e["LANG.CHECKER.SUCCESS"]))),footer:[s.a.createElement(o.a,{type:"primary",key:"later",onClick:this.handleCancel},e["BUTTON.OK.TEXT"])]}}latest(){const{messages:e}=this.props.intlr;return{content:s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement(h.a,{type:"icon-success",className:"icon-success"}),s.a.createElement("span",null,e["LANG.CHECKER.IS.LATEST"]))),footer:[s.a.createElement(o.a,{type:"primary",key:"later",onClick:this.handleCancel},e["BUTTON.OK.TEXT"])]}}modalData(){const{downloadStatus:e,isLatest:t}=this.props.intlr;return t?this.latest():e===i.a.LANG_DOWNLOAD_STATUS.DOING?this.checking():e===i.a.LANG_DOWNLOAD_STATUS.FAILURE?this.network():e===i.a.LANG_DOWNLOAD_STATUS.SUCCESS?this.success():{content:null,footer:null}}render(){const{messages:e}=this.props.intlr,{content:t,footer:n}=this.modalData();return s.a.createElement(c.a,{width:360,keyboard:!1,maskClosable:!1,visible:!0,className:"lang-checker",title:e["MENU.LANG.CHECK.UPDATE.TITLE"],onCancel:this.handleCancel,closable:!0,footer:n},t)}}t.default=Object(r.connect)(e=>({intlr:e.intlr}),e=>({updateDownloadStatus:t=>e(Object(u.updateDownloadStatus)(t)),updateLatestStatus:t=>e(Object(u.updateLatestStatus)(t)),change:t=>e(Object(u.change)(t)),updateSupportedLangNames:()=>e(Object(u.updateSupportedLangNames)())}))(E)}}]);