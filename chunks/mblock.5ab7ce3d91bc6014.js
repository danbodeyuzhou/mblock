(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[2],{1e3:function(e,t,n){(t=e.exports=n(20)(!1)).push([e.i,".meter_green {\n    fill: rgb(171, 220, 170);\n    stroke: rgb(174, 211, 168);\n}\n\n.meter_yellow {\n    fill: rgb(251, 219, 130);\n    stroke: rgb(239, 212, 134);\n}\n\n.meter_red {\n    fill: rgb(251, 194, 142);\n    stroke: rgb(235, 189, 142);\n}\n",""]),t.locals={green:"meter_green",yellow:"meter_yellow",red:"meter_red"}},1001:function(e,t,n){e.exports=n.p+"static/resource/918f0537df003844e4f8037515a1ca5c.svg"},1002:function(e,t,n){e.exports=n.p+"static/resource/461f036bcd9c641b924ad92d64525fd8.svg"},1003:function(e,t,n){e.exports=n.p+"static/resource/5e847377e2b48c4f4d38579ae889a3ae.svg"},1004:function(e,t,n){"use strict";(function(e){if(e.AnalyserNode&&!e.AnalyserNode.prototype.getFloatTimeDomainData){var t=new Uint8Array(2048);e.AnalyserNode.prototype.getFloatTimeDomainData=function(e){this.getByteTimeDomainData(t);for(var n=0,a=e.length;n<a;n++)e[n]=.0078125*(t[n]-128)}}}).call(this,n(64))},1005:function(e,t,n){e.exports=n.p+"static/resource/15b1bd5dcd2ed9ac1cf5eb902095dbc1.svg"},1012:function(e,t,n){"use strict";n.r(t);var a=n(3),o=n.n(a),i=n(0),r=n.n(i),s=n(11),l=n(17),d=n(35),c=n.n(d),u=n(12),m=n(6),h=n(69),p=n(886),f=n(972),b=n.n(f),g=n(865),y=n.n(g),w=n(16),S=n(13),x=n(999),v=n.n(x);const E=e=>{const{level:t,width:n,height:a}=e,o=(a-50)/19,i=19-Math.floor(19*t);return r.a.createElement("svg",{className:v.a.container,height:a,width:n},Array(19).fill(0).map((e,t)=>r.a.createElement("rect",{className:t<11?v.a.green:t<16?v.a.yellow:v.a.red,height:o,key:t,rx:3,ry:3,width:n-2,x:1,y:a-(2.5+o)*(t+1)})),r.a.createElement("rect",{fill:"white",height:i*(o+2.5)+1.25,opacity:"0.75",width:n,x:0,y:0}))};E.propTypes={height:o.a.number,level:o.a.number,width:o.a.number};var T=E,k=n(983),_=n.n(k);const C=e=>{const{width:t,height:n,data:a}=e,o=[0,...a,0],i=[...o.map((e,a)=>[t*a/o.length,n*e/2]),...o.reverse().map((e,a)=>[t*(o.length-a-1)/o.length,-n*e/2])],s=i.map(([e,t],n)=>{const[a,o]=i[n<i.length-1?n+1:0];return`Q${e} ${t} ${(e+a)/2} ${(t+o)/2}`});return r.a.createElement("svg",{className:_.a.container,viewBox:`-1 0 ${t} ${n}`},r.a.createElement("line",{className:_.a.baseline,x1:-1,x2:t,y1:n/2,y2:n/2}),r.a.createElement("g",{transform:`scale(1, -1) translate(0, -${n/2})`},r.a.createElement("path",{className:_.a.waveformPath,d:`M0 0${s.join(" ")}Z`,strokeLinejoin:"round",strokeWidth:1})))};C.propTypes={data:o.a.arrayOf(o.a.number),height:o.a.number,width:o.a.number};var R=C,F=n(885),M=n.n(F),D=n(1005),N=n.n(D),B=n(23);const P=e=>r.a.createElement(S.a,null,r.a.createElement(S.a,{className:M.a.visualizationContainer},r.a.createElement(S.a,{className:M.a.meterContainer},r.a.createElement(T,{height:172,level:e.level,width:20})),r.a.createElement(S.a,{className:M.a.waveformContainer},e.levels?r.a.createElement(R,{data:e.levels,height:150,level:0,width:440}):r.a.createElement("span",{className:M.a.helpText},e.listening?Object(B.a)("gui.soundTab.beginRecord"):Object(B.a)("gui.soundTab.needPermission")))),r.a.createElement(S.a,{className:M.a.mainButtonRow},r.a.createElement("button",{className:M.a.mainButton,disabled:!e.listening,onClick:e.recording?e.onStopRecording:e.onRecord},e.recording?r.a.createElement("img",{src:N.a}):r.a.createElement("svg",{className:M.a.recordButton,height:"52",width:"52"},r.a.createElement("circle",{className:M.a.recordButtonCircle,cx:"26",cy:"26",r:"25"}),r.a.createElement("circle",{className:M.a.recordButtonCircleOutline,cx:"26",cy:"26",r:27+5*e.level})),r.a.createElement("div",{className:M.a.helpText},r.a.createElement("span",{className:M.a.recordingText},e.recording?Object(B.a)("gui.soundTab.stopRecording"):Object(B.a)("gui.soundTab.record"))))));P.propTypes={level:o.a.number,levels:o.a.arrayOf(o.a.number),listening:o.a.bool,onRecord:o.a.func.isRequired,onStopRecording:o.a.func.isRequired,recording:o.a.bool};var A=P,O=(n(1004),n(868)),I=n.n(O),L=n(141);let j;n.n(L).a.msie||(j=new(window.AudioContext||window.webkitAudioContext),I()(j));var q=function(){return j};const U=1e7,z=function(e,t=.55){if(0===e.length)return 0;let n=0;for(let t=0;t<e.length;t++){const a=e[t];n+=Math.pow(a,2)}const a=Math.sqrt(n/e.length)/t;return Math.sqrt(a)},G=function(e,t=1024){const n=e.length,a=[];for(let o=0;o<n;o+=t){const i=Math.min(n,o+t);a.push(z(e.slice(o,i)))}return a},V=function(e,t,n,a,o){y.a.encode({sampleRate:n,channelData:[t]}).then(i=>{const r={format:"",dataFormat:"wav",rate:n,sampleCount:t.length},s=e.runtime.storage;r.asset=s.createAsset(s.AssetType.Sound,s.DataFormat.WAV,new Uint8Array(i),null,!0),r.assetId=r.asset.assetId,r.md5=`${r.assetId}.${r.dataFormat}`,r.name=a,e.addSound(r).then(()=>{o&&o()})})};var $=class{constructor(){this.audioContext=new q,this.bufferLength=1024,this.userMediaStream=null,this.mediaStreamSource=null,this.sourceNode=null,this.scriptProcessorNode=null,this.recordedSamples=0,this.recording=!1,this.started=!1,this.buffers=[],this.disposed=!1}startListening(e,t,n){try{navigator.getUserMedia({audio:!0},n=>{this.disposed||(this.started=!0,e(),this.attachUserMediaStream(n,t))},e=>{this.disposed||n(e)})}catch(e){this.disposed||n(e)}}startRecording(){this.recording=!0}attachUserMediaStream(e,t){this.userMediaStream=e,this.mediaStreamSource=this.audioContext.createMediaStreamSource(e),this.sourceNode=this.audioContext.createGain(),this.scriptProcessorNode=this.audioContext.createScriptProcessor(this.bufferLength,2,2),this.scriptProcessorNode.onaudioprocess=e=>{this.recording&&!this.disposed&&this.buffers.push(new Float32Array(e.inputBuffer.getChannelData(0)))},this.analyserNode=this.audioContext.createAnalyser(),this.analyserNode.fftSize=2048;const n=this.analyserNode.frequencyBinCount,a=new Float32Array(n),o=()=>{this.disposed||(requestAnimationFrame(o),this.analyserNode.getFloatTimeDomainData(a),t(z(a)))};requestAnimationFrame(o),this.mediaStreamSource.connect(this.sourceNode),this.sourceNode.connect(this.analyserNode),this.analyserNode.connect(this.scriptProcessorNode),this.scriptProcessorNode.connect(this.audioContext.destination)}stop(){const e=this.buffers.map(e=>z(e)),t=Math.max.apply(null,e)/8;let n=null,a=null;for(let o=0;o<e.length;o++)e[o]>t&&(null===n&&(n=o+1),a=o+1);const o=Math.max(2,n-2)/this.buffers.length,i=Math.min(this.buffers.length-2,a+2)/this.buffers.length,r=new Float32Array(this.buffers.length*this.bufferLength);let s=0;for(let e=0;e<this.buffers.length;e++){const t=this.buffers[e];r.set(t,s),s+=t.length}return{levels:e,samples:r,sampleRate:this.audioContext.sampleRate,trimStart:o,trimEnd:i}}dispose(){this.started&&(this.scriptProcessorNode.onaudioprocess=null,this.scriptProcessorNode.disconnect(),this.analyserNode.disconnect(),this.sourceNode.disconnect(),this.mediaStreamSource.disconnect(),this.userMediaStream.getAudioTracks()[0].stop()),this.disposed=!0}};function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class X extends r.a.Component{constructor(e){super(e),Object(s.bindAll)(this,["handleRecord","handleStopRecording","handleStarted","handleLevelUpdate","handleRecordingError"]),this.state={listening:!1,level:0,levels:null}}componentDidMount(){this.audioRecorder=new $,this.audioRecorder.startListening(this.handleStarted,this.handleLevelUpdate,this.handleRecordingError)}componentWillUnmount(){this.audioRecorder.dispose()}handleStarted(){this.setState({listening:!0})}handleRecordingError(){}handleLevelUpdate(e){this.setState({level:e}),this.props.recording&&this.setState({levels:(this.state.levels||[]).concat([e])})}handleRecord(){this.audioRecorder.startRecording(),this.props.onRecord()}handleStopRecording(){const{samples:e,sampleRate:t,levels:n,trimStart:a,trimEnd:o}=this.audioRecorder.stop();this.props.onStopRecording(e,t,n,a,o)}render(){const{onRecord:e,onStopRecording:t,...n}=this.props;return r.a.createElement(A,H({level:this.state.level,levels:this.state.levels,listening:this.state.listening,onRecord:this.handleRecord,onStopRecording:this.handleStopRecording},n))}}X.propTypes={onRecord:o.a.func.isRequired,onStopRecording:o.a.func.isRequired,recording:o.a.bool};var W=X,K=n(8),Y=n.n(K),Z=n(878),J=n.n(Z),Q=n(986),ee=n.n(Q);const te=e=>r.a.createElement(S.a,{className:Y()(J.a.trimLine,e.handleStyle),onMouseDown:e.onMouseDown,onTouchStart:e.onMouseDown},r.a.createElement(S.a,{className:Y()(J.a.trimHandle,J.a.topTrimHandle)},r.a.createElement("img",{src:ee.a})),r.a.createElement(S.a,{className:Y()(J.a.trimHandle,J.a.bottomTrimHandle)},r.a.createElement("img",{src:ee.a})));te.propTypes={handleStyle:o.a.string,onMouseDown:o.a.func};var ne=te;const ae=e=>r.a.createElement("div",{className:J.a.playheadContainer},r.a.createElement("div",{className:Y()(J.a.playhead),style:{transform:`translateX(${100*e.playbackPosition}%)`}}));ae.propTypes={playbackPosition:o.a.number};var oe=ae;const ie=e=>r.a.createElement("div",{className:Y()(J.a.absolute,J.a.trimmer),ref:e.containerRef},null===e.trimStart?null:r.a.createElement(S.a,{className:Y()(J.a.absolute,J.a.trimBackground,J.a.startTrimBackground),style:{width:`${100*e.trimStart}%`},onMouseDown:e.onTrimStartMouseDown,onTouchStart:e.onTrimStartMouseDown},r.a.createElement(S.a,{className:Y()(J.a.absolute,J.a.trimBackgroundMask)}),r.a.createElement(ne,{handleStyle:J.a.leftHandle})),e.playhead?r.a.createElement(oe,{playbackPosition:e.playhead}):null,null===e.trimEnd?null:r.a.createElement(S.a,{className:Y()(J.a.absolute,J.a.trimBackground,J.a.endTrimBackground),style:{left:`${100*e.trimEnd}%`,width:`${100-100*e.trimEnd}%`},onMouseDown:e.onTrimEndMouseDown,onTouchStart:e.onTrimEndMouseDown},r.a.createElement(S.a,{className:Y()(J.a.absolute,J.a.trimBackgroundMask)}),r.a.createElement(ne,{handleStyle:J.a.rightHandle})));ie.propTypes={containerRef:o.a.func,onTrimEndMouseDown:o.a.func.isRequired,onTrimStartMouseDown:o.a.func.isRequired,playhead:o.a.number,trimEnd:o.a.number,trimStart:o.a.number};var re=ie,se=n(54);const le=.01;class de extends r.a.Component{constructor(e){super(e),Object(s.bindAll)(this,["handleTrimStartMouseDown","handleTrimEndMouseDown","handleTrimStartMouseMove","handleTrimEndMouseMove","handleTrimStartMouseUp","handleTrimEndMouseUp","storeRef"])}handleTrimStartMouseMove(e){const t=this.containerElement.getBoundingClientRect().width,n=(Object(se.a)(e).x-this.initialX)/t,a=Math.max(0,Math.min(this.props.trimEnd-le,this.initialTrim+n));this.props.onSetTrimStart(a),e.preventDefault()}handleTrimEndMouseMove(e){const t=this.containerElement.getBoundingClientRect().width,n=(Object(se.a)(e).x-this.initialX)/t,a=Math.min(1,Math.max(this.props.trimStart+le,this.initialTrim+n));this.props.onSetTrimEnd(a),e.preventDefault()}handleTrimStartMouseUp(){window.removeEventListener("mousemove",this.handleTrimStartMouseMove),window.removeEventListener("mouseup",this.handleTrimStartMouseUp),window.removeEventListener("touchmove",this.handleTrimStartMouseMove),window.removeEventListener("touchend",this.handleTrimStartMouseUp)}handleTrimEndMouseUp(){window.removeEventListener("mousemove",this.handleTrimEndMouseMove),window.removeEventListener("mouseup",this.handleTrimEndMouseUp),window.removeEventListener("touchmove",this.handleTrimEndMouseMove),window.removeEventListener("touchend",this.handleTrimEndMouseUp)}handleTrimStartMouseDown(e){this.initialX=Object(se.a)(e).x,this.initialTrim=this.props.trimStart,window.addEventListener("mousemove",this.handleTrimStartMouseMove),window.addEventListener("mouseup",this.handleTrimStartMouseUp),window.addEventListener("touchmove",this.handleTrimStartMouseMove),window.addEventListener("touchend",this.handleTrimStartMouseUp)}handleTrimEndMouseDown(e){this.initialX=Object(se.a)(e).x,this.initialTrim=this.props.trimEnd,window.addEventListener("mousemove",this.handleTrimEndMouseMove),window.addEventListener("mouseup",this.handleTrimEndMouseUp),window.addEventListener("touchmove",this.handleTrimEndMouseMove),window.addEventListener("touchend",this.handleTrimEndMouseUp)}storeRef(e){this.containerElement=e}render(){return r.a.createElement(re,{containerRef:this.storeRef,playhead:this.props.playhead,trimEnd:this.props.trimEnd,trimStart:this.props.trimStart,onTrimEndMouseDown:this.handleTrimEndMouseDown,onTrimStartMouseDown:this.handleTrimStartMouseDown})}}de.propTypes={onSetTrimEnd:o.a.func,onSetTrimStart:o.a.func,playhead:o.a.number,trimEnd:o.a.number,trimStart:o.a.number};var ce=de,ue=n(1003),me=n.n(ue),he=n(1001),pe=n.n(he),fe=n(1002),be=n.n(fe);const ge=e=>r.a.createElement(S.a,null,r.a.createElement(S.a,{className:M.a.visualizationContainer},r.a.createElement(S.a,{className:M.a.meterContainer},r.a.createElement(T,{height:172,level:0,width:20})),r.a.createElement(S.a,{className:M.a.waveformContainer},r.a.createElement(R,{data:e.levels,height:150,level:0,width:480}),r.a.createElement(ce,{playhead:e.playhead,trimEnd:e.trimEnd,trimStart:e.trimStart,onSetTrimEnd:e.onSetTrimEnd,onSetTrimStart:e.onSetTrimStart}))),r.a.createElement(S.a,{className:M.a.mainButtonRow},r.a.createElement("button",{className:M.a.mainButton,onClick:e.playing?e.onStopPlaying:e.onPlay},r.a.createElement("img",{src:e.playing?pe.a:be.a}),r.a.createElement("div",{className:M.a.helpText},r.a.createElement("span",{className:M.a.playingText},e.playing?Object(B.a)("gui.soundTab.stop"):Object(B.a)("gui.soundTab.play"))))),r.a.createElement(S.a,{className:M.a.buttonRow},r.a.createElement("button",{className:M.a.cancelButton,onClick:e.onBack},r.a.createElement("img",{src:me.a})," ",Object(B.a)("gui.soundTab.reRecord")),r.a.createElement("button",{className:M.a.okButton,disabled:e.encoding,onClick:e.onSubmit},e.encoding?Object(B.a)("gui.soundTab.saving"):Object(B.a)("gui.soundTab.save"))));ge.propTypes={encoding:o.a.bool.isRequired,levels:o.a.arrayOf(o.a.number).isRequired,onBack:o.a.func.isRequired,onPlay:o.a.func.isRequired,onSetTrimEnd:o.a.func.isRequired,onSetTrimStart:o.a.func.isRequired,onStopPlaying:o.a.func.isRequired,onSubmit:o.a.func.isRequired,playhead:o.a.number,playing:o.a.bool.isRequired,trimEnd:o.a.number.isRequired,trimStart:o.a.number.isRequired};var ye=ge;var we=class{constructor(e,t){this.audioContext=new q,this.buffer=this.audioContext.createBuffer(1,e.length,t),this.buffer.getChannelData(0).set(e),this.source=null,this.startTime=null,this.updateCallback=null,this.trimStart=null,this.trimEnd=null}play(e,t,n,a){this.updateCallback=n,this.trimStart=e,this.trimEnd=t,this.startTime=Date.now();const o=this.buffer.duration*e,i=this.buffer.duration*t-o;this.source=this.audioContext.createBufferSource(),this.source.onended=a,this.source.buffer=this.buffer,this.source.connect(this.audioContext.destination),this.source.start(0,o,i),this.update()}update(){const e=(Date.now()-this.startTime)/1e3/this.buffer.duration;e+this.trimStart<this.trimEnd&&this.source.onended?(requestAnimationFrame(this.update.bind(this)),this.updateCallback(e+this.trimStart)):this.updateCallback=null}stop(){this.source&&(this.source.onended=null,this.source.stop())}};function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}class xe extends r.a.Component{constructor(e){super(e),Object(s.bindAll)(this,["handlePlay","handleStopPlaying"])}componentDidMount(){this.audioBufferPlayer=new we(this.props.samples,this.props.sampleRate)}componentWillUnmount(){this.audioBufferPlayer.stop()}handlePlay(){this.audioBufferPlayer.play(this.props.trimStart,this.props.trimEnd,this.props.onSetPlayhead,this.props.onStopPlaying),this.props.onPlay()}handleStopPlaying(){this.audioBufferPlayer.stop(),this.props.onStopPlaying()}render(){const{sampleRate:e,onPlay:t,onStopPlaying:n,onSetPlayhead:a,...o}=this.props;return r.a.createElement(ye,Se({onPlay:this.handlePlay,onStopPlaying:this.handleStopPlaying},o))}}xe.propTypes={sampleRate:o.a.number.isRequired,samples:o.a.instanceOf(Float32Array).isRequired,...ye.propTypes};var ve=xe,Ee=n(120);const Te=e=>r.a.createElement(Ee.a,{className:M.a.modalContent,contentLabel:Object(B.a)("gui.soundTab.recordSound"),onRequestClose:e.onCancel},r.a.createElement(S.a,{className:M.a.body},e.samples?r.a.createElement(ve,{encoding:e.encoding,levels:e.levels,playhead:e.playhead,playing:e.playing,sampleRate:e.sampleRate,samples:e.samples,trimEnd:e.trimEnd,trimStart:e.trimStart,onBack:e.onBack,onPlay:e.onPlay,onSetPlayhead:e.onSetPlayhead,onSetTrimEnd:e.onSetTrimEnd,onSetTrimStart:e.onSetTrimStart,onStopPlaying:e.onStopPlaying,onSubmit:e.onSubmit}):r.a.createElement(W,{recording:e.recording,onRecord:e.onRecord,onStopRecording:e.onStopRecording})));Te.propTypes={encoding:o.a.bool.isRequired,levels:o.a.arrayOf(o.a.number),onBack:o.a.func.isRequired,onCancel:o.a.func.isRequired,onPlay:o.a.func.isRequired,onRecord:o.a.func.isRequired,onSetPlayhead:o.a.func.isRequired,onSetTrimEnd:o.a.func.isRequired,onSetTrimStart:o.a.func.isRequired,onStopPlaying:o.a.func.isRequired,onStopRecording:o.a.func.isRequired,onSubmit:o.a.func.isRequired,playhead:o.a.number,playing:o.a.bool,recording:o.a.bool,sampleRate:o.a.number,samples:o.a.instanceOf(Float32Array),trimEnd:o.a.number.isRequired,trimStart:o.a.number.isRequired};var ke=Te,_e=n(39);const Ce=e=>e<10?"0"+e:e,Re=()=>{const e=new Date,t=e.getMonth()+1,n=e.getDate(),a=e.getHours(),o=e.getMinutes(),i=e.getSeconds();return`${Ce(t)}${Ce(n)}${Ce(a)}${Ce(o)}${Ce(i)}`};class Fe extends r.a.Component{constructor(e){super(e),Object(s.bindAll)(this,["handleRecord","handleStopRecording","handlePlay","handleStopPlaying","handleBack","handleSubmit","handleCancel","handleSetPlayhead","handleSetTrimStart","handleSetTrimEnd"]),this.state={samples:null,encoding:!1,levels:null,playhead:null,playing:!1,recording:!1,sampleRate:null,trimStart:0,trimEnd:1}}handleRecord(){this.setState({recording:!0})}handleStopRecording(e,t,n,a,o){this.setState({samples:e,sampleRate:t,levels:n,trimStart:a,trimEnd:o,recording:!1})}handlePlay(){this.setState({playing:!0})}handleStopPlaying(){this.setState({playing:!1,playhead:null})}handleBack(){this.setState({playing:!1,samples:null})}handleSetTrimEnd(e){this.setState({trimEnd:e})}handleSetTrimStart(e){this.setState({trimStart:e})}handleSetPlayhead(e){this.setState({playhead:e})}handleSubmit(){this.setState({encoding:!0},()=>{const e=this.state.samples.length,t=Math.floor(this.state.trimStart*e),n=Math.floor(this.state.trimEnd*e),a=this.state.samples.slice(t,n);y.a.encode({sampleRate:this.state.sampleRate,channelData:[a]}).then(e=>{const t=new Uint8Array(e),n={format:"",dataFormat:"wav",rate:this.state.sampleRate,sampleCount:a.length,data:t},o=this.props.vm.runtime.storage;n.asset=o.createAsset(o.AssetType.Sound,o.DataFormat.WAV,t,null,!0),n.assetId=n.asset.assetId,n.md5=`${n.assetId}.${n.dataFormat}`,n.name="recording"+Re(),m.a.emit(h.a.sprite.soundRecorded,n),this.props.onClose()})})}handleCancel(){this.props.onClose()}render(){return r.a.createElement(ke,{encoding:this.state.encoding,levels:this.state.levels,playhead:this.state.playhead,playing:this.state.playing,recording:this.state.recording,sampleRate:this.state.sampleRate,samples:this.state.samples,trimEnd:this.state.trimEnd,trimStart:this.state.trimStart,onBack:this.handleBack,onCancel:this.handleCancel,onPlay:this.handlePlay,onRecord:this.handleRecord,onSetPlayhead:this.handleSetPlayhead,onSetTrimEnd:this.handleSetTrimEnd,onSetTrimStart:this.handleSetTrimStart,onStopPlaying:this.handleStopPlaying,onStopRecording:this.handleStopRecording,onSubmit:this.handleSubmit})}}Fe.propTypes={onClose:o.a.func,onNewSound:o.a.func,vm:o.a.instanceOf(c.a)};var Me=Object(w.connect)(e=>({vm:e.vm}),e=>({onClose:()=>{e(Object(_e.f)())}}))(Fe);class De{static get DELAY_TIME(){return.25}static get TAIL_SECONDS(){return.75}constructor(e,t,n){this.audioContext=e,this.input=this.audioContext.createGain(),this.output=this.audioContext.createGain(),this.effectInput=this.audioContext.createGain(),this.effectInput.gain.value=0,this.effectInput.gain.setValueAtTime(.75,t),this.effectInput.gain.setValueAtTime(0,n),this.delay=this.audioContext.createDelay(1),this.delay.delayTime.value=De.DELAY_TIME,this.decay=this.audioContext.createGain(),this.decay.gain.value=.3,this.compressor=this.audioContext.createDynamicsCompressor(),this.compressor.threshold.value=-5,this.compressor.knee.value=15,this.compressor.ratio.value=12,this.compressor.attack.value=0,this.compressor.release.value=.25,this.input.connect(this.effectInput),this.effectInput.connect(this.delay),this.delay.connect(this.compressor),this.input.connect(this.compressor),this.delay.connect(this.decay),this.decay.connect(this.delay),this.compressor.connect(this.output)}}var Ne=De;var Be=class{constructor(e,t,n){this.audioContext=e,this.input=this.audioContext.createGain(),this.output=this.audioContext.createGain(),this.passthrough=this.audioContext.createGain(),this.effectInput=this.audioContext.createGain(),this.passthrough.gain.value=1,this.effectInput.gain.value=0,this.passthrough.gain.setValueAtTime(0,t),this.passthrough.gain.setValueAtTime(1,n),this.effectInput.gain.setValueAtTime(1,t),this.effectInput.gain.setValueAtTime(0,n);const a=()=>{const e=this.audioContext.createWaveShaper(),t=(e,t=.2,n=.4,a=.65)=>e<=t?0:e<=n?a*(Math.pow(e-t,2)/(2*n-2*t)):a*e-a*n+a*(Math.pow(e-t,2)/(2*n-2*t)),n=new Float32Array(1024);for(let e=0;e<1024;e++){const a=e/1024*2-1;n[e]=t(a)}return e.curve=n,e},o=this.audioContext.createOscillator();o.frequency.value=50,o.start(0);const i=this.audioContext.createGain();i.gain.value=.5;const r=this.audioContext.createGain();r.gain.value=-1;const s=this.audioContext.createGain();s.gain.value=-1;const l=a(this.audioContext),d=a(this.audioContext),c=this.audioContext.createGain();c.gain.value=-1;const u=this.audioContext.createGain();u.gain.value=-1;const m=a(this.audioContext),h=a(this.audioContext),p=this.audioContext.createDynamicsCompressor();p.threshold.value=-5,p.knee.value=15,p.ratio.value=12,p.attack.value=0,p.release.value=.25;const f=this.audioContext.createBiquadFilter();f.type="highpass",f.frequency.value=1e3,f.gain.value=1.25,this.input.connect(this.effectInput),this.input.connect(this.passthrough),this.passthrough.connect(this.output),this.effectInput.connect(u),this.effectInput.connect(h),u.connect(m),o.connect(i),i.connect(r),i.connect(u),i.connect(h),r.connect(s),r.connect(d),s.connect(l),l.connect(c),d.connect(c),c.connect(p),m.connect(p),h.connect(p),this.effectInput.connect(f),f.connect(p),p.connect(this.output)}};var Pe=class{constructor(e,t,n,a){this.audioContext=e,this.input=this.audioContext.createGain(),this.output=this.audioContext.createGain(),this.gain=this.audioContext.createGain(),this.rampLength=.01,this.gain.gain.setValueAtTime(1,Math.max(0,n-this.rampLength)),this.gain.gain.exponentialRampToValueAtTime(t,n),this.gain.gain.setValueAtTime(t,a),this.gain.gain.exponentialRampToValueAtTime(1,a+this.rampLength),this.input.connect(this.gain),this.gain.connect(this.output)}};var Ae=class{constructor(e,t,n,a){this.audioContext=e,this.input=this.audioContext.createGain(),this.output=this.audioContext.createGain(),this.gain=this.audioContext.createGain(),this.gain.gain.setValueAtTime(1,0),t?(this.gain.gain.setValueAtTime(0,n),this.gain.gain.linearRampToValueAtTime(1,a)):(this.gain.gain.setValueAtTime(1,n),this.gain.gain.linearRampToValueAtTime(0,a)),this.gain.gain.setValueAtTime(1,a),this.input.connect(this.gain),this.gain.connect(this.output)}};var Oe=class{constructor(e,t,n){this.audioContext=e,this.input=this.audioContext.createGain(),this.output=this.audioContext.createGain(),this.gain=this.audioContext.createGain(),this.rampLength=.001,this.gain.gain.setValueAtTime(1,Math.max(0,t-this.rampLength)),this.gain.gain.linearRampToValueAtTime(0,t),this.gain.gain.setValueAtTime(0,n),this.gain.gain.linearRampToValueAtTime(1,n+this.rampLength),this.input.connect(this.gain),this.gain.connect(this.output)}};const Ie={ROBOT:"robot",REVERSE:"reverse",LOUDER:"higher",SOFTER:"lower",FASTER:"faster",SLOWER:"slower",ECHO:"echo",FADEIN:"fade in",FADEOUT:"fade out",MUTE:"mute"};var Le=class{static get effectTypes(){return Ie}constructor(e,t,n,a){this.trimStartSeconds=n*e.length/e.sampleRate,this.trimEndSeconds=a*e.length/e.sampleRate,this.adjustedTrimStartSeconds=this.trimStartSeconds,this.adjustedTrimEndSeconds=this.trimEndSeconds;const o=Math.pow(2,4/12);let i=e.length;const r=Math.floor((this.trimEndSeconds-this.trimStartSeconds)*e.sampleRate);let s=r;const l=i-r;switch(this.playbackRate=1,t){case Ie.ECHO:i=Math.max(i,Math.floor((this.trimEndSeconds+Ne.TAIL_SECONDS)*e.sampleRate));break;case Ie.FASTER:this.playbackRate=o,s=Math.floor(r/this.playbackRate),i=l+s;break;case Ie.SLOWER:this.playbackRate=1/o,s=Math.floor(r/this.playbackRate),i=l+s}const d=i/e.sampleRate;if(this.adjustedTrimEndSeconds=this.trimStartSeconds+s/e.sampleRate,this.adjustedTrimStart=this.adjustedTrimStartSeconds/d,this.adjustedTrimEnd=this.adjustedTrimEndSeconds/d,window.OfflineAudioContext)this.audioContext=new window.OfflineAudioContext(1,i,e.sampleRate);else{const t=44100/e.sampleRate;this.audioContext=new window.webkitOfflineAudioContext(1,t*i,44100)}if(t===Ie.REVERSE){const t=e.getChannelData(0),n=this.audioContext.createBuffer(1,e.length,e.sampleRate),a=n.getChannelData(0),o=e.length,i=Math.floor(this.trimStartSeconds*e.sampleRate),r=Math.floor(this.trimEndSeconds*e.sampleRate);let s=0;for(let e=0;e<o;e++)e>=i&&e<r?(a[e]=t[r-s-1],s++):a[e]=t[e];this.buffer=n}else this.buffer=e;this.source=this.audioContext.createBufferSource(),this.source.buffer=this.buffer,this.name=t}process(e){let t,n;switch(this.name){case Ie.FASTER:case Ie.SLOWER:this.source.playbackRate.setValueAtTime(this.playbackRate,this.adjustedTrimStartSeconds),this.source.playbackRate.setValueAtTime(1,this.adjustedTrimEndSeconds);break;case Ie.LOUDER:({input:t,output:n}=new Pe(this.audioContext,1.25,this.adjustedTrimStartSeconds,this.adjustedTrimEndSeconds));break;case Ie.SOFTER:({input:t,output:n}=new Pe(this.audioContext,.75,this.adjustedTrimStartSeconds,this.adjustedTrimEndSeconds));break;case Ie.ECHO:({input:t,output:n}=new Ne(this.audioContext,this.adjustedTrimStartSeconds,this.adjustedTrimEndSeconds));break;case Ie.ROBOT:({input:t,output:n}=new Be(this.audioContext,this.adjustedTrimStartSeconds,this.adjustedTrimEndSeconds));break;case Ie.FADEIN:({input:t,output:n}=new Ae(this.audioContext,!0,this.adjustedTrimStartSeconds,this.adjustedTrimEndSeconds));break;case Ie.FADEOUT:({input:t,output:n}=new Ae(this.audioContext,!1,this.adjustedTrimStartSeconds,this.adjustedTrimEndSeconds));break;case Ie.MUTE:({input:t,output:n}=new Oe(this.audioContext,this.adjustedTrimStartSeconds,this.adjustedTrimEndSeconds))}t&&n?(this.source.connect(t),n.connect(this.audioContext.destination)):this.source.connect(this.audioContext.destination),this.source.start(),this.audioContext.startRendering(),this.audioContext.oncomplete=({renderedBuffer:t})=>{e(t,this.adjustedTrimStart,this.adjustedTrimEnd)}}},je=n(29),qe=n(975),Ue=n.n(qe);const ze=e=>r.a.createElement("label",{className:Ue.a.inputGroup},r.a.createElement("span",{className:e.secondary?Ue.a.inputLabelSecondary:Ue.a.inputLabel},e.text),e.children);ze.propTypes={children:o.a.node,secondary:o.a.bool,text:o.a.oneOfType([o.a.string,o.a.object])},ze.defaultProps={secondary:!1};var Ge=ze,Ve=n(119),$e=n(172);const He=e=>r.a.createElement("div",{className:Y()(J.a.absolute,J.a.selector),ref:e.containerRef,onMouseDown:e.onNewSelectionMouseDown,onTouchStart:e.onNewSelectionMouseDown},null===e.trimStart?null:r.a.createElement(S.a,{className:Y()(J.a.absolute),style:{left:`${100*e.trimStart}%`,width:`${100*(e.trimEnd-e.trimStart)}%`}},r.a.createElement(S.a,{className:Y()(J.a.absolute,J.a.selectionBackground)}),r.a.createElement(ne,{handleStyle:J.a.leftHandle,onMouseDown:e.onTrimStartMouseDown}),r.a.createElement(ne,{handleStyle:J.a.rightHandle,onMouseDown:e.onTrimEndMouseDown})),e.playhead?r.a.createElement(oe,{playbackPosition:e.playhead}):null);He.propTypes={containerRef:o.a.func,onNewSelectionMouseDown:o.a.func.isRequired,onTrimEndMouseDown:o.a.func.isRequired,onTrimStartMouseDown:o.a.func.isRequired,playhead:o.a.number,trimEnd:o.a.number,trimStart:o.a.number};var Xe=He;class We{static get STATE_UNIDENTIFIED(){return"unidentified"}static get STATE_SCROLL(){return"scroll"}static get STATE_DRAG(){return"drag"}constructor({onDrag:e=(()=>{}),onDragEnd:t=(()=>{}),touchDragAngle:n=70,distanceThreshold:a=3}){this._onDrag=e,this._onDragEnd=t,this._touchDragAngle=n,this._distanceThreshold=a,this._initialOffset=null,this._gestureState=We.STATE_UNIDENTIFIED,Object(s.bindAll)(this,["start","gestureInProgress","reset","_handleMove","_handleEnd"])}start(e){this._initialOffset=Object(se.a)(e),this._bindListeners()}gestureInProgress(){return this._gestureState!==We.STATE_UNIDENTIFIED}reset(){this._unbindListeners(),this._initialOffset=null,this._gestureState=We.STATE_UNIDENTIFIED}_bindListeners(){window.addEventListener("mouseup",this._handleEnd),window.addEventListener("mousemove",this._handleMove),window.addEventListener("touchend",this._handleEnd),window.addEventListener("touchmove",this._handleMove,{passive:!1})}_unbindListeners(){window.removeEventListener("mouseup",this._handleEnd),window.removeEventListener("mousemove",this._handleMove),window.removeEventListener("touchend",this._handleEnd),window.removeEventListener("touchmove",this._handleMove,{passive:!1})}_handleMove(e){if(this._isScroll())return;const t=Object(se.a)(e);if(!this.gestureInProgress()){const n=t.x-this._initialOffset.x,a=t.y-this._initialOffset.y;if(Math.sqrt(n*n+a*a)<this._distanceThreshold)return;if("touchmove"===e.type){let e=Math.atan2(a,n)/Math.PI*180;e=Math.abs(e),e>90&&(e=180-e),e>this._touchDragAngle?this._gestureState=We.STATE_SCROLL:this._gestureState=We.STATE_DRAG}else this._gestureState=We.STATE_DRAG}this._isDrag()&&(this._onDrag(t,this._initialOffset),e.preventDefault())}_handleEnd(){this.reset(),this._onDragEnd()}_isDrag(){return this._gestureState===We.STATE_DRAG}_isScroll(){return this._gestureState===We.STATE_SCROLL}}var Ke=We;const Ye=.01,Ze=500;class Je extends r.a.Component{constructor(e){super(e),Object(s.bindAll)(this,["handleNewSelectionMouseDown","handleTrimStartMouseDown","handleTrimEndMouseDown","handleTrimStartMouseMove","handleTrimEndMouseMove","handleTrimStartMouseUp","handleTrimEndMouseUp","storeRef"]),this.state={trimStart:e.trimStart,trimEnd:e.trimEnd},this.clickStartTime=0,this.trimStartDragRecognizer=new Ke({onDrag:this.handleTrimStartMouseMove,onDragEnd:this.handleTrimStartMouseUp,touchDragAngle:90,distanceThreshold:0}),this.trimEndDragRecognizer=new Ke({onDrag:this.handleTrimEndMouseMove,onDragEnd:this.handleTrimEndMouseUp,touchDragAngle:90,distanceThreshold:0})}componentWillReceiveProps(e){const{trimStart:t,trimEnd:n}=this.props;e.trimStart===t&&e.trimEnd===n||this.setState({trimStart:e.trimStart,trimEnd:e.trimEnd})}clearSelection(){this.props.onSetTrim(null,null)}handleNewSelectionMouseDown(e){const{width:t,left:n}=this.containerElement.getBoundingClientRect();this.initialTrimEnd=(Object(se.a)(e).x-n)/t,this.initialTrimStart=this.initialTrimEnd,this.props.onSetTrim(this.initialTrimStart,this.initialTrimEnd),this.clickStartTime=Date.now(),this.containerSize=t,this.trimEndDragRecognizer.start(e),e.preventDefault()}handleTrimStartMouseMove(e,t){const n=(e.x-t.x)/this.containerSize,a=Math.max(0,Math.min(1,this.initialTrimStart+n));a>this.initialTrimEnd?this.setState({trimStart:this.initialTrimEnd,trimEnd:a}):this.setState({trimStart:a,trimEnd:this.initialTrimEnd})}handleTrimEndMouseMove(e,t){const n=(e.x-t.x)/this.containerSize,a=Math.min(1,Math.max(0,this.initialTrimEnd+n));a<this.initialTrimStart?this.setState({trimStart:a,trimEnd:this.initialTrimStart}):this.setState({trimStart:this.initialTrimStart,trimEnd:a})}handleTrimStartMouseUp(){this.props.onSetTrim(this.state.trimStart,this.state.trimEnd)}handleTrimEndMouseUp(){const e=Date.now()-this.clickStartTime<Ze,t=this.state.trimEnd-this.state.trimStart<Ye;e&&t?this.clearSelection():this.props.onSetTrim(this.state.trimStart,this.state.trimEnd)}handleTrimStartMouseDown(e){this.containerSize=this.containerElement.getBoundingClientRect().width,this.trimStartDragRecognizer.start(e),this.initialTrimStart=this.props.trimStart,this.initialTrimEnd=this.props.trimEnd,e.stopPropagation(),e.preventDefault()}handleTrimEndMouseDown(e){this.containerSize=this.containerElement.getBoundingClientRect().width,this.trimEndDragRecognizer.start(e),this.initialTrimEnd=this.props.trimEnd,this.initialTrimStart=this.props.trimStart,e.stopPropagation(),e.preventDefault()}storeRef(e){this.containerElement=e}render(){return r.a.createElement(Xe,{containerRef:this.storeRef,playhead:this.props.playhead,trimEnd:this.state.trimEnd,trimStart:this.state.trimStart,onNewSelectionMouseDown:this.handleNewSelectionMouseDown,onTrimEndMouseDown:this.handleTrimEndMouseDown,onTrimStartMouseDown:this.handleTrimStartMouseDown})}}Je.propTypes={onSetTrim:o.a.func,playhead:o.a.number,trimEnd:o.a.number,trimStart:o.a.number};var Qe=Je,et=n(876),tt=n(973),nt=n.n(tt),at=n(988),ot=n.n(at),it=n(987),rt=n.n(it),st=n(978),lt=n.n(st),dt=n(977),ct=n.n(dt),ut=n(989),mt=n.n(ut),ht=n(990),pt=n.n(ht),ft=n(991),bt=n.n(ft),gt=n(992),yt=n.n(gt),wt=n(997),St=n.n(wt),xt=n(996),vt=n.n(xt),Et=n(995),Tt=n.n(Et),kt=n(994),_t=n.n(kt),Ct=n(993),Rt=n.n(Ct),Ft=n(982),Mt=n.n(Ft),Dt=n(979),Nt=n.n(Dt),Bt=n(980),Pt=n.n(Bt),At=n(981),Ot=n.n(At);const It=Object($e.a)(Ve.a),Lt=Object(je.defineMessages)({sound:{id:"gui.soundEditor.sound",description:"Label for the name of the sound",defaultMessage:"Sound"},play:{id:"gui.soundEditor.play",description:"Title of the button to start playing the sound",defaultMessage:"Play"},stop:{id:"gui.soundEditor.stop",description:"Title of the button to stop the sound",defaultMessage:"Stop"},copy:{id:"gui.soundEditor.copy",description:"Title of the button to copy the sound",defaultMessage:"Copy"},paste:{id:"gui.soundEditor.paste",description:"Title of the button to paste the sound",defaultMessage:"Paste"},copyToNew:{id:"gui.soundEditor.copyToNew",description:"Title of the button to copy the selection into a new sound",defaultMessage:"Copy to New"},delete:{id:"gui.soundEditor.delete",description:"Title of the button to delete the sound",defaultMessage:"Delete"},save:{id:"gui.soundEditor.save",description:"Title of the button to save trimmed sound",defaultMessage:"Save"},undo:{id:"gui.soundEditor.undo",description:"Title of the button to undo",defaultMessage:"Undo"},redo:{id:"gui.soundEditor.redo",description:"Title of the button to redo",defaultMessage:"Redo"},faster:{id:"gui.soundEditor.faster",description:"Title of the button to apply the faster effect",defaultMessage:"Faster"},slower:{id:"gui.soundEditor.slower",description:"Title of the button to apply the slower effect",defaultMessage:"Slower"},echo:{id:"gui.soundEditor.echo",description:"Title of the button to apply the echo effect",defaultMessage:"Echo"},robot:{id:"gui.soundEditor.robot",description:"Title of the button to apply the robot effect",defaultMessage:"Robot"},louder:{id:"gui.soundEditor.louder",description:"Title of the button to apply the louder effect",defaultMessage:"Louder"},softer:{id:"gui.soundEditor.softer",description:"Title of the button to apply thr.softer effect",defaultMessage:"Softer"},reverse:{id:"gui.soundEditor.reverse",description:"Title of the button to apply the reverse effect",defaultMessage:"Reverse"},fadeOut:{id:"gui.soundEditor.fadeOut",description:"Title of the button to apply the fade out effect",defaultMessage:"Fade out"},fadeIn:{id:"gui.soundEditor.fadeIn",description:"Title of the button to apply the fade in effect",defaultMessage:"Fade in"},mute:{id:"gui.soundEditor.mute",description:"Title of the button to apply the mute effect",defaultMessage:"Mute"}}),jt=e=>r.a.createElement("div",{className:nt.a.editorContainer,ref:e.setRef,onMouseDown:e.onContainerClick,dir:e.rtl?"rtl":"ltr"},r.a.createElement("div",{className:nt.a.row},r.a.createElement("div",{className:nt.a.inputGroup},r.a.createElement(Ge,{text:e.intl.formatMessage(Lt.sound)},r.a.createElement(It,{tabIndex:"1",type:"text",value:e.name,onSubmit:e.onChangeName})),r.a.createElement("div",{className:nt.a.buttonGroup},r.a.createElement("button",{className:nt.a.button,disabled:!e.canUndo,title:e.intl.formatMessage(Lt.undo),onClick:e.onUndo},r.a.createElement("img",{className:nt.a.undoIcon,draggable:!1,src:ct.a})),r.a.createElement("button",{className:nt.a.button,disabled:!e.canRedo,title:e.intl.formatMessage(Lt.redo),onClick:e.onRedo},r.a.createElement("img",{className:nt.a.redoIcon,draggable:!1,src:lt.a})))),r.a.createElement("div",{className:nt.a.inputGroup},r.a.createElement(et.a,{className:nt.a.toolButton,img:Nt.a,title:e.intl.formatMessage(Lt.copy),onClick:e.onCopy}),r.a.createElement(et.a,{className:nt.a.toolButton,disabled:!1===e.canPaste,img:Pt.a,title:e.intl.formatMessage(Lt.paste),onClick:e.onPaste}),r.a.createElement(et.a,{className:Y()(nt.a.toolButton,nt.a.flipInRtl),img:Ot.a,title:e.intl.formatMessage(Lt.copyToNew),onClick:e.onCopyToNew})),r.a.createElement(et.a,{className:nt.a.toolButton,disabled:null===e.trimStart,img:Mt.a,title:e.intl.formatMessage(Lt.delete),onClick:e.onDelete})),r.a.createElement("div",{className:nt.a.row},r.a.createElement("div",{className:nt.a.waveformContainer},r.a.createElement(R,{data:e.chunkLevels,height:160,width:600}),r.a.createElement(Qe,{playhead:e.playhead,trimEnd:e.trimEnd,trimStart:e.trimStart,onPlay:e.onPlay,onSetTrim:e.onSetTrim,onStop:e.onStop}))),r.a.createElement("div",{className:Y()(nt.a.row,nt.a.rowReverse)},r.a.createElement("div",{className:nt.a.inputGroup},e.playhead?r.a.createElement("button",{className:Y()(nt.a.roundButton,nt.a.stopButtonn),title:e.intl.formatMessage(Lt.stop),onClick:e.onStop},r.a.createElement("img",{draggable:!1,src:rt.a})):r.a.createElement("button",{className:Y()(nt.a.roundButton,nt.a.playButton),title:e.intl.formatMessage(Lt.play),onClick:e.onPlay},r.a.createElement("img",{draggable:!1,src:ot.a}))),r.a.createElement(et.a,{className:nt.a.effectButton,img:mt.a,title:r.a.createElement(je.FormattedMessage,Lt.faster),onClick:e.onFaster}),r.a.createElement(et.a,{className:nt.a.effectButton,img:pt.a,title:r.a.createElement(je.FormattedMessage,Lt.slower),onClick:e.onSlower}),r.a.createElement(et.a,{className:Y()(nt.a.effectButton,nt.a.flipInRtl),img:bt.a,title:r.a.createElement(je.FormattedMessage,Lt.louder),onClick:e.onLouder}),r.a.createElement(et.a,{className:Y()(nt.a.effectButton,nt.a.flipInRtl),img:yt.a,title:r.a.createElement(je.FormattedMessage,Lt.softer),onClick:e.onSofter}),r.a.createElement(et.a,{className:Y()(nt.a.effectButton,nt.a.flipInRtl),img:Rt.a,title:r.a.createElement(je.FormattedMessage,Lt.mute),onClick:e.onMute}),r.a.createElement(et.a,{className:nt.a.effectButton,img:_t.a,title:r.a.createElement(je.FormattedMessage,Lt.fadeIn),onClick:e.onFadeIn}),r.a.createElement(et.a,{className:nt.a.effectButton,img:Tt.a,title:r.a.createElement(je.FormattedMessage,Lt.fadeOut),onClick:e.onFadeOut}),r.a.createElement(et.a,{className:nt.a.effectButton,img:vt.a,title:r.a.createElement(je.FormattedMessage,Lt.reverse),onClick:e.onReverse}),r.a.createElement(et.a,{className:nt.a.effectButton,img:St.a,title:r.a.createElement(je.FormattedMessage,Lt.robot),onClick:e.onRobot})));jt.propTypes={canPaste:o.a.bool.isRequired,canRedo:o.a.bool.isRequired,canUndo:o.a.bool.isRequired,chunkLevels:o.a.arrayOf(o.a.number).isRequired,intl:je.intlShape,name:o.a.string.isRequired,onChangeName:o.a.func.isRequired,onContainerClick:o.a.func.isRequired,onCopy:o.a.func.isRequired,onCopyToNew:o.a.func.isRequired,onDelete:o.a.func,onEcho:o.a.func.isRequired,onFadeIn:o.a.func.isRequired,onFadeOut:o.a.func.isRequired,onFaster:o.a.func.isRequired,onLouder:o.a.func.isRequired,onMute:o.a.func.isRequired,onPaste:o.a.func.isRequired,onPlay:o.a.func.isRequired,onRedo:o.a.func.isRequired,onReverse:o.a.func.isRequired,onRobot:o.a.func.isRequired,onSetTrim:o.a.func,onSlower:o.a.func.isRequired,onSofter:o.a.func.isRequired,onStop:o.a.func.isRequired,onUndo:o.a.func.isRequired,playhead:o.a.number,setRef:o.a.func,trimEnd:o.a.number,trimStart:o.a.number,rtl:o.a.bool};var qt=Object(je.injectIntl)(jt);const Ut=99;class zt extends r.a.PureComponent{constructor(e){super(e),Object(s.bindAll)(this,["copy","copyCurrentBuffer","handleCopyToNew","handleStoppedPlaying","handleChangeName","handlePlay","handleStopPlaying","handleUpdatePlayhead","handleDelete","handleUpdateTrim","handleEffect","handleUndo","handleRedo","submitNewSamples","handleCopy","handlePaste","paste","handleKeyPress","handleContainerClick","setRef"]),this.state={copyBuffer:null,chunkLevels:G(this.props.samples),playhead:null,trimStart:null,trimEnd:null},this.redoStack=[],this.undoStack=[],this.ref=null}componentDidMount(){this.audioBufferPlayer=new we(this.props.samples,this.props.sampleRate),document.addEventListener("keydown",this.handleKeyPress)}componentDidUpdate(e){this.props.soundId&&this.props.soundId!==e.soundId&&(this.redoStack=[],this.undoStack=[],this.resetState(this.props.samples,this.props.sampleRate),this.setState({trimStart:null,trimEnd:null}))}componentWillUnmount(){this.audioBufferPlayer.stop(),document.removeEventListener("keydown",this.handleKeyPress)}handleKeyPress(e){e.target instanceof HTMLInputElement||(" "===e.key&&(e.preventDefault(),this.state.playhead?this.handleStopPlaying():this.handlePlay()),"Delete"!==e.key&&"Backspace"!==e.key||(e.preventDefault(),e.shiftKey?this.handleDeleteInverse():this.handleDelete()),"Escape"===e.key&&(e.preventDefault(),this.handleUpdateTrim(null,null)),(e.metaKey||e.ctrlKey)&&(e.shiftKey&&"z"===e.key.toLowerCase()?(e.preventDefault(),this.redoStack.length>0&&this.handleRedo()):"z"===e.key?this.undoStack.length>0&&(e.preventDefault(),this.handleUndo()):"c"===e.key?(e.preventDefault(),this.handleCopy()):"v"===e.key?(e.preventDefault(),this.handlePaste()):"a"===e.key&&(e.preventDefault(),this.handleUpdateTrim(0,1))))}resetState(e,t){this.audioBufferPlayer.stop(),this.audioBufferPlayer=new we(e,t),this.setState({chunkLevels:G(e),playhead:null})}submitNewSamples(e,t,n){let a=null;try{a=y.a.encode.sync({sampleRate:t,channelData:[e]}),a.byteLength>U&&(a=null,console.error(`Refusing to encode sound larger than ${U} bytes`))}catch(e){console.error(`Encountered error while trying to encode sound update: ${e}`)}return!!a&&(n||(this.redoStack=[],this.undoStack.length>=Ut&&this.undoStack.shift(),this.undoStack.push(this.getUndoItem())),this.resetState(e,t),this.props.vm.updateSoundBuffer(this.props.soundIndex,this.audioBufferPlayer.buffer,new Uint8Array(a)),!0)}handlePlay(){this.audioBufferPlayer.stop(),this.audioBufferPlayer.play(this.state.trimStart||0,this.state.trimEnd||1,this.handleUpdatePlayhead,this.handleStoppedPlaying)}handleStopPlaying(){this.audioBufferPlayer.stop(),this.handleStoppedPlaying()}handleStoppedPlaying(){this.setState({playhead:null})}handleUpdatePlayhead(e){this.setState({playhead:e})}handleChangeName(e){this.props.vm.renameSound(this.props.soundIndex,e)}handleDelete(){const{samples:e,sampleRate:t}=this.copyCurrentBuffer(),n=e.length,a=Math.floor(this.state.trimStart*n),o=Math.floor(this.state.trimEnd*n),i=e.slice(0,a),r=e.slice(o,n),s=i.length+r.length;let l;0===s?l=new Float32Array(1):(l=new Float32Array(s),l.set(i,0),l.set(r,i.length)),this.submitNewSamples(l,t),this.setState({trimStart:null,trimEnd:null})}handleDeleteInverse(){const{samples:e,sampleRate:t}=this.copyCurrentBuffer(),n=e.length,a=Math.floor(this.state.trimStart*n),o=Math.floor(this.state.trimEnd*n);let i=e.slice(a,o);0===i.length&&(i=new Float32Array(1)),this.submitNewSamples(i,t),this.setState({trimStart:null,trimEnd:null})}handleUpdateTrim(e,t){this.setState({trimStart:e,trimEnd:t}),this.handleStopPlaying()}effectFactory(e){return()=>this.handleEffect(e)}copyCurrentBuffer(){return{samples:this.audioBufferPlayer.buffer.getChannelData(0),sampleRate:this.audioBufferPlayer.buffer.sampleRate}}handleEffect(e){const t=null===this.state.trimStart?0:this.state.trimStart,n=null===this.state.trimEnd?1:this.state.trimEnd;this.audioBufferPlayer.buffer.length<2||new Le(this.audioBufferPlayer.buffer,e,t,n).process((e,t,n)=>{const a=e.getChannelData(0),o=e.sampleRate;this.submitNewSamples(a,o)&&(null===this.state.trimStart?this.handlePlay():this.setState({trimStart:t,trimEnd:n},this.handlePlay))})}getUndoItem(){return{...this.copyCurrentBuffer(),trimStart:this.state.trimStart,trimEnd:this.state.trimEnd}}handleUndo(){this.redoStack.push(this.getUndoItem());const{samples:e,sampleRate:t,trimStart:n,trimEnd:a}=this.undoStack.pop();e&&(this.submitNewSamples(e,t,!0),this.setState({trimStart:n,trimEnd:a},this.handlePlay))}handleRedo(){const{samples:e,sampleRate:t,trimStart:n,trimEnd:a}=this.redoStack.pop();e&&(this.undoStack.push(this.getUndoItem()),this.submitNewSamples(e,t,!0),this.setState({trimStart:n,trimEnd:a},this.handlePlay))}handleCopy(){this.copy()}copy(e){const t=null===this.state.trimStart?0:this.state.trimStart,n=null===this.state.trimEnd?1:this.state.trimEnd,a=this.copyCurrentBuffer(),o=t*a.samples.length,i=n*a.samples.length;a.samples=a.samples.slice(o,i),this.setState({copyBuffer:a},e)}handleCopyToNew(){this.copy(()=>{V(this.props.vm,this.state.copyBuffer.samples,this.state.copyBuffer.sampleRate,this.props.name)})}resampleBufferToRate(e,t){return new Promise(n=>{if(window.OfflineAudioContext){const a=t/e.sampleRate*e.samples.length,o=new window.OfflineAudioContext(1,a,t),i=o.createBufferSource(),r=o.createBuffer(1,e.samples.length,e.sampleRate);r.getChannelData(0).set(e.samples),i.buffer=r,i.connect(o.destination),i.start(),o.startRendering(),o.oncomplete=({renderedBuffer:e})=>{n({samples:e.getChannelData(0),sampleRate:t})}}})}paste(){const{samples:e}=this.copyCurrentBuffer();if(null===this.state.trimStart){const t=e.length+this.state.copyBuffer.samples.length,n=new Float32Array(t);n.set(e,0),n.set(this.state.copyBuffer.samples,e.length),this.submitNewSamples(n,this.props.sampleRate,!1),this.handlePlay()}else{const t=this.state.trimStart*e.length,n=this.state.trimEnd*e.length,a=e.slice(0,t),o=e.slice(n),i=a.length+this.state.copyBuffer.samples.length+o.length,r=new Float32Array(i);r.set(a,0),r.set(this.state.copyBuffer.samples,a.length),r.set(o,a.length+this.state.copyBuffer.samples.length);const s=t/this.props.sampleRate,l=s+this.state.copyBuffer.samples.length/this.state.copyBuffer.sampleRate,d=r.length/this.state.copyBuffer.sampleRate,c=s/d,u=l/d;this.submitNewSamples(r,this.props.sampleRate,!1),this.setState({trimStart:c,trimEnd:u},this.handlePlay)}}handlePaste(){this.state.copyBuffer&&(this.state.copyBuffer.sampleRate===this.props.sampleRate?this.paste():this.resampleBufferToRate(this.state.copyBuffer,this.props.sampleRate).then(e=>{this.setState({copyBuffer:e},this.paste)}))}setRef(e){this.ref=e}handleContainerClick(e){e.target===this.ref&&null!==this.state.trimStart&&this.handleUpdateTrim(null,null)}render(){if(!this.props.soundId)return null;const{effectTypes:e}=Le;return r.a.createElement(qt,{canPaste:null!==this.state.copyBuffer,canRedo:this.redoStack.length>0,canUndo:this.undoStack.length>0,chunkLevels:this.state.chunkLevels,name:this.props.name,playhead:this.state.playhead,setRef:this.setRef,trimEnd:this.state.trimEnd,trimStart:this.state.trimStart,onChangeName:this.handleChangeName,onContainerClick:this.handleContainerClick,onCopy:this.handleCopy,onCopyToNew:this.handleCopyToNew,onDelete:this.handleDelete,onEcho:this.effectFactory(e.ECHO),onFadeIn:this.effectFactory(e.FADEIN),onFadeOut:this.effectFactory(e.FADEOUT),onFaster:this.effectFactory(e.FASTER),onLouder:this.effectFactory(e.LOUDER),onMute:this.effectFactory(e.MUTE),onPaste:this.handlePaste,onPlay:this.handlePlay,onRedo:this.handleRedo,onReverse:this.effectFactory(e.REVERSE),onRobot:this.effectFactory(e.ROBOT),onSetTrim:this.handleUpdateTrim,onSlower:this.effectFactory(e.SLOWER),onSofter:this.effectFactory(e.SOFTER),onStop:this.handleStopPlaying,onUndo:this.handleUndo,rtl:this.props.rtl})}}zt.propTypes={name:o.a.string.isRequired,sampleRate:o.a.number,samples:o.a.instanceOf(Float32Array),soundId:o.a.string,soundIndex:o.a.number,vm:o.a.shape({updateSoundBuffer:o.a.func,renameSound:o.a.func}),rtl:o.a.bool};var Gt=Object(w.connect)((e,{soundIndex:t})=>{const n=e.vm.editingTarget.sprite.sounds[t],a=n?e.vm.getSoundBuffer(t):null;if(n&&a)return{soundId:n.soundId,sampleRate:a.sampleRate,samples:a.getChannelData(0),name:n.name,vm:e.vm}})(zt),Vt=n(55),$t=n(169),Ht=n(118),Xt=n(251);const Wt=()=>null;class Kt extends r.a.PureComponent{constructor(e){super(e),Object(s.bindAll)(this,["handleSelectSound","handleDeleteSound","handleDuplicateSound","handleNewSound","handlePromptClose","handleShowPrompt","handleDrop","handleExport"]),this.state={selectedSoundIndex:0,prompt:null}}componentDidMount(){m.a.addListener(h.a.sprite.newSoundAdded,this.handleNewSound)}componentWillUnmount(){m.a.removeListener(h.a.sprite.newSoundAdded,this.handleNewSound)}static getDerivedStateFromProps(e,t){const{editingTarget:n,sprites:a,stage:o}=e,i=n&&a[n]?a[n]:o;return i&&i.sounds&&t.selectedSoundIndex>i.sounds.length-1?{selectedSoundIndex:Math.max(i.sounds.length-1,0)}:null}handleSelectSound(e){this.setState({selectedSoundIndex:e})}handleDeleteSound(){const e=this.state.prompt.deleteId;this.props.vm.deleteSound(e),this.handlePromptClose()}handleDuplicateSound(e){this.props.vm.duplicateSound(e).then(()=>{this.setState({selectedSoundIndex:e+1})})}handleNewSound(){if(!this.props.vm.editingTarget)return null;const e=this.props.vm.editingTarget.sprite,t=e.sounds?e.sounds:[];this.setState({selectedSoundIndex:Math.max(t.length-1,0)})}handleExport(e){const{editingTarget:t}=this.props.vm,n=t.sprite.sounds[e],a=new Blob([n.asset.data],{type:n.asset.assetType.contentType});Object(Xt.a)(`${n.name}.${n.asset.dataFormat}`,a)}handleShowPrompt(e){this.setState({prompt:{deleteId:e,title:Object(B.a)("gui.sound.deleteTitle"),message:Object(B.a)("gui.sound.deleteMessage")}})}handlePromptClose(){this.setState({prompt:null})}handleDrop(e){if(e.dragType===Vt.a.SOUND){const t=this.props.vm.editingTarget.sprite,n=t.sounds[this.state.selectedSoundIndex];this.props.vm.reorderSound(this.props.vm.editingTarget.id,e.index,e.newIndex),this.setState({selectedSoundIndex:t.sounds.indexOf(n)})}else e.dragType===Vt.a.BACKPACK_COSTUME?this.props.vm.addCostume(e.payload.body,{name:e.payload.name}):e.dragType===Vt.a.BACKPACK_SOUND&&this.props.vm.addSound({md5:e.payload.body,name:e.payload.name}).then(this.handleNewSound)}render(){const{vm:e,onNewSoundFromLibraryClick:t,rtl:n}=this.props;if(!e.editingTarget)return null;const a=e.editingTarget.sprite,o=a.sounds?a.sounds.map(e=>({url:b.a,name:e.name,details:(e.sampleCount/e.rate).toFixed(2),dragPayload:e})):[],i=r.a.createElement(l.a,{defaultMessage:"Add Sound",description:"Button to add a sound in the editor tab",id:"gui.soundTab.addSound"});return r.a.createElement(p.a,{buttons:[{message:i,iconFontType:"icon-add-sound-lib",onClick:t}],dragType:Vt.a.SOUND,items:o,selectedItemIndex:this.state.selectedSoundIndex,onDeleteClick:this.handleShowPrompt,onItemClick:this.handleSelectSound,onDuplicateClick:this.handleDuplicateSound,onExportButtonClick:this.handleExport,onDrop:this.handleDrop,rtl:n},a.sounds&&a.sounds[this.state.selectedSoundIndex]?r.a.createElement(Gt,{soundIndex:this.state.selectedSoundIndex,rtl:n}):null,this.props.soundRecorderVisible?r.a.createElement(Me,{onNewSound:this.handleNewSound}):null,this.props.soundLibraryVisible?r.a.createElement(Wt,{vm:this.props.vm,onNewSound:this.handleNewSound,onRequestClose:this.props.onRequestCloseSoundLibrary}):null,this.state.prompt?r.a.createElement($t.a,{label:this.state.prompt.message,title:this.state.prompt.title,noInput:!0,onCancel:this.handlePromptClose,onOk:this.handleDeleteSound}):null)}}Kt.propTypes={editingTarget:o.a.string,onNewSoundFromLibraryClick:o.a.func.isRequired,onRequestCloseSoundLibrary:o.a.func.isRequired,soundLibraryVisible:o.a.bool,soundRecorderVisible:o.a.bool,sprites:o.a.shape({id:o.a.shape({sounds:o.a.arrayOf(o.a.shape({name:o.a.string.isRequired}))})}),stage:o.a.shape({sounds:o.a.arrayOf(o.a.shape({name:o.a.string.isRequired}))}),vm:o.a.instanceOf(c.a).isRequired,rtl:o.a.bool};t.default=Object(Ht.a)("Sound Tab")(Object(w.connect)(e=>({editingTarget:e.targets.editingTarget,sprites:e.targets.sprites,stage:e.targets.stage,soundLibraryVisible:e.modals.soundLibrary,soundRecorderVisible:e.modals.soundRecorder}),e=>({onNewSoundFromLibraryClick:t=>{t.preventDefault(),u.b.isInMblock5Env()?m.a.emit(h.a.layout.openSoundLibrary):e(Object(_e.m)())},onRequestCloseSoundLibrary:()=>{e(Object(_e.e)())}}))(Kt))},876:function(e,t,n){"use strict";var a=n(3),o=n.n(a),i=n(0),r=n.n(i),s=n(8),l=n.n(s),d=n(883),c=n.n(d);const u=({img:e,iconFontType:t,className:n,title:a,onClick:o,disabled:i})=>r.a.createElement("div",{className:l()(c.a.container,n,i?c.a.disabled:null),role:"button",onClick:i?null:o},t?r.a.createElement("svg",{className:c.a.icon,width:20,height:20,"aria-hidden":"true",fill:"var(--PRIMARY-COLOR)"},r.a.createElement("use",{xlinkHref:"#icon-"+t})):r.a.createElement("img",{className:c.a.icon,src:e}),r.a.createElement("div",{className:c.a.title},a));u.propTypes={className:o.a.string,disabled:o.a.bool,img:o.a.string,iconFontType:o.a.string,onClick:o.a.func.isRequired,title:o.a.oneOfType([o.a.string.isRequired,o.a.object.isRequired])},t.a=u},878:function(e,t,n){var a=n(985);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0};n(21)(a,o);a.locals&&(e.exports=a.locals)},879:function(e,t,n){var a=n(880);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0};n(21)(a,o);a.locals&&(e.exports=a.locals)},880:function(e,t,n){(t=e.exports=n(20)(!1)).push([e.i,"/* origin is 0.625rem 0.55rem 0.6rem */\n\n/* layout contants from `layout-constants.js` */\n\n/* 3.6rem; */\n\n/* blocks 区样式 */\n\n/* mobile style */\n\n/* Theme2 */\n\n/* 通用的间隔 */\n\n/* 圆角大小 */\n\n/* 弹窗标题高度 */\n\n/* 弹窗底部高度 */\n\n/* 侧边栏阴影 */\n\n/*\n  舞台下方编辑区域、代码编辑主区域、toolbox 区域\n*/\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* #4C97FF */\n\n/* #3373CC */\n\n/* 35% transparent version of motion-primary */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* 主页面背景颜色 */\n\n/* tab 栏常规 */\n\n/* 主色调颜色（蓝色）：包含：选中的字体颜色、主要按钮颜色 */\n\n/* border 颜色 */\n\n/* 灰色提示文字颜色 */\n\n/* 辅助文字颜色 */\n\n/* 分割线颜色 */\n\n/* 一般字体颜色 */\n\n/* 主要按钮hover颜色 */\n\n/* 按钮点击颜色 */\n\n/* 危险按钮颜色 */\n\n/* 危险按钮hover颜色 */\n\n/* mobile style */\n\n/* 25% transparent version of ui-white */\n\n.asset-panel_wrapper {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    left: 0;\n    top: 0;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-flex: 1;\n    -webkit-flex-grow: 1;\n        -ms-flex-positive: 1;\n            flex-grow: 1;\n    background: white;\n    font-size: 0.85rem;\n    z-index: 90;\n    border-radius: 12px;\n}\n\n.asset-panel_detail-area {\n    -webkit-box-flex: 1;\n    -webkit-flex-grow: 1;\n        -ms-flex-positive: 1;\n            flex-grow: 1;\n    -webkit-flex-shrink: 0;\n        -ms-flex-negative: 0;\n            flex-shrink: 0;\n    border-left: 1px solid var(--LINE-COLOR);\n    overflow: auto;\n}\n\n/* PaintEditor组件中的弹窗层级 */\n\n.Popover-below {\n    z-index: 1500;\n}\n\n.asset-panel_rtl .asset-panel_selector {\n    -webkit-box-ordinal-group: 3;\n    -webkit-order: 2;\n        -ms-flex-order: 2;\n            order: 2;\n    direction: rtl;\n}\n\n.asset-panel_rtl .asset-panel_detail-area {\n    border-right: 1px solid var(--LINE-COLOR);\n    border-left: 0;\n}\n",""]),t.locals={wrapper:"asset-panel_wrapper","detail-area":"asset-panel_detail-area",detailArea:"asset-panel_detail-area",rtl:"asset-panel_rtl",selector:"asset-panel_selector"}},881:function(e,t,n){var a=n(882);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0};n(21)(a,o);a.locals&&(e.exports=a.locals)},882:function(e,t,n){(t=e.exports=n(20)(!1)).push([e.i,"/*\n  舞台下方编辑区域、代码编辑主区域、toolbox 区域\n*/\n/* #E5F0FF */\n/* #E9F1FC */\n/* #D9E3F2 */\n/* 90% transparent version of motion-primary */\n/* #FFFFFF */\n/* 25% transparent version of ui-white */\n/* 15% transparent version of black */\n/* #575E75 */\n/* #4C97FF */\n/* #3373CC */\n/* 35% transparent version of motion-primary */\n/* #FF661A */\n/* #E64D00 */\n/* #CF63CF */\n/* #BD42BD */\n/* #FFAB19 */\n/* #FF8C1A */\n/* #0FBD8C */\n/* 主页面背景颜色 */\n/* tab 栏常规 */\n/* 主色调颜色（蓝色）：包含：选中的字体颜色、主要按钮颜色 */\n/* border 颜色 */\n/* 灰色提示文字颜色 */\n/* 辅助文字颜色 */\n/* 分割线颜色 */\n/* 一般字体颜色 */\n/* 主要按钮hover颜色 */\n/* 按钮点击颜色 */\n/* 危险按钮颜色 */\n/* 危险按钮hover颜色 */\n/* mobile style */\n/* 25% transparent version of ui-white */\n/* origin is 0.625rem 0.55rem 0.6rem */\n/* layout contants from `layout-constants.js` */\n/* 3.6rem; */\n/* blocks 区样式 */\n/* mobile style */\n/* Theme2 */\n/* 通用的间隔 */\n/* 圆角大小 */\n/* 弹窗标题高度 */\n/* 弹窗底部高度 */\n/* 侧边栏阴影 */\n.selector_wrapper {\n    width: 150px;\n    position: relative;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    border-radius: 12px 0 0 12px;\n}\n.selector_new-buttons {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n    -webkit-justify-content: space-around;\n        -ms-flex-pack: distribute;\n            justify-content: space-around;\n    margin: 1.25rem 0;\n    color: hsla(215, 100%, 65%, 1);\n    text-align: center;\n}\n.selector_new-button {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n    font-size: 0.75rem;\n    cursor: pointer;\n    -webkit-transition: 0.2s;\n    -o-transition: 0.2s;\n    transition: 0.2s;\n}\n.selector_new-button:hover {\n    -webkit-transform: scale(1.2);\n        -ms-transform: scale(1.2);\n            transform: scale(1.2);\n}\n.selector_new-button + .selector_new-button {\n    margin-top: 1.25rem;\n}\n.selector_new-button-icon + .selector_new-button-label {\n    margin-top: 0.5rem;\n}\n.selector_list-area {\n    /* Must have some height (recalculated by flex-grow) in order to scroll */\n    padding: .5rem;\n    height: 0;\n    -webkit-box-flex: 1;\n    -webkit-flex-grow: 1;\n        -ms-flex-positive: 1;\n            flex-grow: 1;\n    overflow-y: auto;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n        -ms-flex-direction: column;\n            flex-direction: column;\n}\n.selector_list-item {\n    width: 5rem;\n    min-height: 5rem;\n    margin: .5rem auto;\n}\n.selector_list-item > canvas + div {\n    margin-top: .5rem;\n}\n.selector_placeholder {\n    background: black;\n    -webkit-filter: opacity(15%) brightness(20%);\n            filter: opacity(15%) brightness(20%);\n}\n@media only screen and (max-width: 1249px) {\n    .selector_wrapper {\n        width: 80px;\n    }\n\n    .selector_list-item {\n        width: 4rem;\n        min-height: 4rem;\n    }\n}",""]),t.locals={wrapper:"selector_wrapper","new-buttons":"selector_new-buttons",newButtons:"selector_new-buttons","new-button":"selector_new-button",newButton:"selector_new-button","new-button-icon":"selector_new-button-icon",newButtonIcon:"selector_new-button-icon","new-button-label":"selector_new-button-label",newButtonLabel:"selector_new-button-label","list-area":"selector_list-area",listArea:"selector_list-area","list-item":"selector_list-item",listItem:"selector_list-item",placeholder:"selector_placeholder"}},883:function(e,t,n){var a=n(884);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0};n(21)(a,o);a.locals&&(e.exports=a.locals)},884:function(e,t,n){(t=e.exports=n(20)(!1)).push([e.i,'/*\n  舞台下方编辑区域、代码编辑主区域、toolbox 区域\n*/\n/* #E5F0FF */\n/* #E9F1FC */\n/* #D9E3F2 */\n/* 90% transparent version of motion-primary */\n/* #FFFFFF */\n/* 25% transparent version of ui-white */\n/* 15% transparent version of black */\n/* #575E75 */\n/* #4C97FF */\n/* #3373CC */\n/* 35% transparent version of motion-primary */\n/* #FF661A */\n/* #E64D00 */\n/* #CF63CF */\n/* #BD42BD */\n/* #FFAB19 */\n/* #FF8C1A */\n/* #0FBD8C */\n/* 主页面背景颜色 */\n/* tab 栏常规 */\n/* 主色调颜色（蓝色）：包含：选中的字体颜色、主要按钮颜色 */\n/* border 颜色 */\n/* 灰色提示文字颜色 */\n/* 辅助文字颜色 */\n/* 分割线颜色 */\n/* 一般字体颜色 */\n/* 主要按钮hover颜色 */\n/* 按钮点击颜色 */\n/* 危险按钮颜色 */\n/* 危险按钮hover颜色 */\n/* mobile style */\n/* 25% transparent version of ui-white */\n.icon-button_container {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n    cursor: pointer;\n    -webkit-transition: 0.2s;\n    -o-transition: 0.2s;\n    transition: 0.2s;\n    font-size: 0.75rem;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    color: hsla(215, 100%, 65%, 1);\n}\n.icon-button_container:hover {\n    opacity: .75;\n}\n.icon-button_container:active img{\n    -webkit-transform: translate3d(0, 0, 0) scale(.8);\n            transform: translate3d(0, 0, 0) scale(.8);\n}\n.icon-button_container + .icon-button_container {\n    margin-top: 1.25rem;\n}\n.icon-button_title {\n    margin-top: 0.5rem;\n    white-space: nowrap;\n    color: var(--PRIMARY-COLOR);\n}\n.icon-button_disabled {\n    opacity: 0.5;\n    pointer-events: none;\n}\n.icon-button_icon{\n    width: 20px;\n    height: 20px;\n}\n',""]),t.locals={container:"icon-button_container",title:"icon-button_title",disabled:"icon-button_disabled",icon:"icon-button_icon"}},885:function(e,t,n){var a=n(998);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0};n(21)(a,o);a.locals&&(e.exports=a.locals)},886:function(e,t,n){"use strict";var a=n(0),o=n.n(a),i=n(8),r=n.n(i),s=n(13),l=n(3),d=n.n(l),c=n(252),u=n(876),m=n(55),h=n(881),p=n.n(h),f=n(253),b=n(254);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const y=e=>{const{buttons:t,items:n,dragType:a,selectedItemIndex:i,onDeleteClick:l,onItemClick:d,onDuplicateClick:m,containerRef:h,className:b,ordering:y,draggingType:w,draggingIndex:S,onAddSortable:x,onRemoveSortable:v,onExportClick:E,...T}=e,k=w===a;return o.a.createElement(s.a,{className:r()(p.a.wrapper,b),componentRef:h},o.a.createElement(s.a,{className:p.a.listArea},n.map((e,t)=>o.a.createElement(f.a,{key:e.name,index:k?y.indexOf(t):t,onAddSortable:x,onRemoveSortable:v},o.a.createElement(c.a,g({className:r()(p.a.listItem,{[p.a.placeholder]:k&&t===S}),asset:e.asset,costumeURL:e.url,details:e.details,dragPayload:e.dragPayload,dragType:a,id:t,index:t,number:t+1,name:e.name,selected:t===i,onClick:d,onDeleteButtonClick:l,onDuplicateButtonClick:m},T))))),o.a.createElement(s.a,{className:p.a.newButtons},t.map(({message:e,img:t,iconFontType:n,onClick:a},i)=>o.a.createElement(u.a,{img:t,iconFontType:n,key:i,title:e,onClick:a}))))};y.propTypes={buttons:d.a.arrayOf(d.a.shape({message:d.a.node.isRequired,img:d.a.string,iconFontType:d.a.string,onClick:d.a.func.isRequired})),items:d.a.arrayOf(d.a.shape({url:d.a.string,name:d.a.string.isRequired})),dragType:d.a.oneOf(Object.keys(m.a)),onDeleteClick:d.a.func,onItemClick:d.a.func.isRequired,selectedItemIndex:d.a.number.isRequired};var w=Object(b.a)(y),S=n(879),x=n.n(S);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const E=e=>o.a.createElement(s.a,{className:r()(x.a.wrapper,{[x.a.rtl]:e.rtl})},o.a.createElement(w,v({className:x.a.selector},e)),o.a.createElement(s.a,{className:x.a.detailArea},e.children));E.propTypes={...w.propTypes};t.a=E},972:function(e,t,n){e.exports=n.p+"static/resource/836ebbd706c75ff8ac985cacf68f72fc.svg"},973:function(e,t,n){var a=n(974);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0};n(21)(a,o);a.locals&&(e.exports=a.locals)},974:function(e,t,n){(t=e.exports=n(20)(!1)).push([e.i,'/*\n  舞台下方编辑区域、代码编辑主区域、toolbox 区域\n*/\n/* #E5F0FF */\n/* #E9F1FC */\n/* #D9E3F2 */\n/* 90% transparent version of motion-primary */\n/* #FFFFFF */\n/* 25% transparent version of ui-white */\n/* 15% transparent version of black */\n/* #575E75 */\n/* #4C97FF */\n/* #3373CC */\n/* 35% transparent version of motion-primary */\n/* #FF661A */\n/* #E64D00 */\n/* #CF63CF */\n/* #BD42BD */\n/* #FFAB19 */\n/* #FF8C1A */\n/* #0FBD8C */\n/* 主页面背景颜色 */\n/* tab 栏常规 */\n/* 主色调颜色（蓝色）：包含：选中的字体颜色、主要按钮颜色 */\n/* border 颜色 */\n/* 灰色提示文字颜色 */\n/* 辅助文字颜色 */\n/* 分割线颜色 */\n/* 一般字体颜色 */\n/* 主要按钮hover颜色 */\n/* 按钮点击颜色 */\n/* 危险按钮颜色 */\n/* 危险按钮hover颜色 */\n/* mobile style */\n/* 25% transparent version of ui-white */\n/* origin is 0.625rem 0.55rem 0.6rem */\n/* layout contants from `layout-constants.js` */\n/* 3.6rem; */\n/* blocks 区样式 */\n/* mobile style */\n/* Theme2 */\n/* 通用的间隔 */\n/* 圆角大小 */\n/* 弹窗标题高度 */\n/* 弹窗底部高度 */\n/* 侧边栏阴影 */\n.sound-editor_editor-container {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n        -ms-flex-direction: column;\n            flex-direction: column;\n    -webkit-box-flex: 1;\n    -webkit-flex-grow: 1;\n        -ms-flex-positive: 1;\n            flex-grow: 1;\n    padding: calc(2 * 0.5rem);\n}\n.sound-editor_row {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: row;\n        -ms-flex-direction: row;\n            flex-direction: row;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n[dir="rtl"] .sound-editor_row-reverse {\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: reverse;\n    -webkit-flex-direction: row-reverse;\n        -ms-flex-direction: row-reverse;\n            flex-direction: row-reverse;\n}\n.sound-editor_row + .sound-editor_row {\n    margin-top: calc(2 * 0.5rem);\n}\n.sound-editor_input-group {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: row;\n        -ms-flex-direction: row;\n            flex-direction: row;\n}\n[dir="ltr"] .sound-editor_input-group + .sound-editor_input-group {\n    margin-left: calc(2 * 0.5rem);\n}\n[dir="rtl"] .sound-editor_input-group + .sound-editor_input-group {\n    margin-right: calc(2 * 0.5rem);\n}\n[dir="ltr"] .sound-editor_input-group {\n    padding-right: calc(2 * 0.5rem);\n    border-right: 1px dashed hsla(\n    0,\n    0%,\n    0%,\n    0.15\n);\n}\n[dir="rtl"] .sound-editor_input-group {\n    padding-left: calc(2 * 0.5rem);\n    border-left: 1px dashed hsla(\n    0,\n    0%,\n    0%,\n    0.15\n);\n}\n[dir="rtl"] .sound-editor_row-reverse > .sound-editor_input-group {\n    padding-left: 0;\n    padding-right: calc(2 * 0.5rem);\n    border-left: none;\n    border-right: 1px dashed hsla(\n    0,\n    0%,\n    0%,\n    0.15\n);\n}\n.sound-editor_waveform-container {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-justify-content: space-around;\n        -ms-flex-pack: distribute;\n            justify-content: space-around;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n    width: 100%;\n\n    position: relative;\n\n    background: hsla(300, 53%, 60%, 0.15);\n    border: 1px solid hsla(\n    0,\n    0%,\n    0%,\n    0.15\n);\n    border-radius: 5px;\n\n    margin-top: 20px;\n    margin-bottom: 20px;\n}\n.sound-editor_button {\n    height: 2rem;\n    padding: 0.35rem;\n    outline: none;\n    background: white;\n    border-radius: 0.25rem;\n    border: 1px solid hsla(\n    0,\n    0%,\n    0%,\n    0.15\n);\n    cursor: pointer;\n    font-size: 0.85rem;\n    -webkit-transition: 0.2s;\n    -o-transition: 0.2s;\n    transition: 0.2s;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    margin: 0px;\n}\n.sound-editor_button > img {\n    -webkit-box-flex: 1;\n    -webkit-flex-grow: 1;\n        -ms-flex-positive: 1;\n            flex-grow: 1;\n    max-width: 100%;\n    max-height: 100%;\n    min-width: 1.25rem;\n}\n.sound-editor_round-button {\n    height: 3rem;\n    width: 3rem;\n    outline: none;\n    background: hsla(215, 100%, 65%, 1);\n    border-radius: 100%;\n    border: 4px solid hsla(\n    0,\n    100%,\n    100%,\n    0.75\n);\n    cursor: pointer;\n    padding: 0.75rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    font-size: 0;\n}\n.sound-editor_round-button > img {\n    -webkit-box-flex: 1;\n    -webkit-flex-grow: 1;\n        -ms-flex-positive: 1;\n            flex-grow: 1;\n    max-width: 100%;\n    max-height: 100%;\n    /*min-width: 1.5rem;*/\n}\n[dir="rtl"] .sound-editor_undo-icon, [dir="rtl"] .sound-editor_redo-icon {\n    -webkit-transform: scaleX(-1);\n        -ms-transform: scaleX(-1);\n            transform: scaleX(-1);\n}\n.sound-editor_trim-button {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n    color: hsla(225, 15%, 40%, 1);\n    font-size: 0.625rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n\n}\n[dir="ltr"] .sound-editor_trim-button {\n    margin-left: 1rem;\n}\n[dir="rtl"] .sound-editor_trim-button {\n    margin-right: 1rem;\n}\n.sound-editor_trim-button > img {\n    width: 1.25rem;\n}\n.sound-editor_effect-button {\n    -webkit-flex-basis: 60px;\n        -ms-flex-preferred-size: 60px;\n            flex-basis: 60px;\n    color: hsla(225, 15%, 40%, 1);\n    font-size: 0.625rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    padding: 0.25rem 0;\n}\n.sound-editor_effect-button + .sound-editor_effect-button {\n    margin: 0;\n}\n.sound-editor_effect-button img {\n    width: 1.25rem;\n    height: 1.25rem;\n    margin-bottom: -0.375rem;\n}\n.sound-editor_tool-button {\n    -webkit-flex-basis: 60px;\n        -ms-flex-preferred-size: 60px;\n            flex-basis: 60px;\n    color: hsla(225, 15%, 40%, 1);\n    font-size: 0.625rem;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    padding: 0.25rem 0;\n}\n.sound-editor_tool-button + .sound-editor_tool-button {\n    margin: 0;\n}\n.sound-editor_tool-button img {\n    width: 4rem;\n    height: 1.5rem;\n    margin-bottom: -0.375rem;\n}\n[dir="rtl"] .sound-editor_flip-in-rtl img {\n    -webkit-transform: scaleX(-1);\n        -ms-transform: scaleX(-1);\n            transform: scaleX(-1);\n}\n[dir="ltr"] .sound-editor_button-group {\n    margin-left: 1rem;\n}\n[dir="rtl"] .sound-editor_button-group {\n    margin-right: 1rem;\n}\n.sound-editor_button-group {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n}\n.sound-editor_button-group .sound-editor_button {\n    border-radius: 0;\n}\n[dir="ltr"] .sound-editor_button-group .sound-editor_button {\n    border-left: none;\n}\n[dir="rtl"] .sound-editor_button-group .sound-editor_button {\n    border-right: none;\n}\n[dir="ltr"] .sound-editor_button-group .sound-editor_button:last-of-type {\n    border-top-right-radius: 0.25rem;\n    border-bottom-right-radius: 0.25rem;\n}\n[dir="ltr"] .sound-editor_button-group .sound-editor_button:first-of-type {\n    border-left: 1px solid hsla(\n    0,\n    0%,\n    0%,\n    0.15\n);\n    border-top-left-radius: 0.25rem;\n    border-bottom-left-radius: 0.25rem;\n}\n[dir="rtl"] .sound-editor_button-group .sound-editor_button:last-of-type {\n    border-top-left-radius: 0.25rem;\n    border-bottom-left-radius: 0.25rem;\n}\n[dir="rtl"] .sound-editor_button-group .sound-editor_button:first-of-type {\n    border-right: 1px solid hsla(\n    0,\n    0%,\n    0%,\n    0.15\n);\n    border-top-right-radius: 0.25rem;\n    border-bottom-right-radius: 0.25rem;\n}\n.sound-editor_button:disabled > img {\n    opacity: 0.25;\n}\n',""]),t.locals={"editor-container":"sound-editor_editor-container",editorContainer:"sound-editor_editor-container",row:"sound-editor_row","row-reverse":"sound-editor_row-reverse",rowReverse:"sound-editor_row-reverse","input-group":"sound-editor_input-group",inputGroup:"sound-editor_input-group","waveform-container":"sound-editor_waveform-container",waveformContainer:"sound-editor_waveform-container",button:"sound-editor_button","round-button":"sound-editor_round-button",roundButton:"sound-editor_round-button","undo-icon":"sound-editor_undo-icon",undoIcon:"sound-editor_undo-icon","redo-icon":"sound-editor_redo-icon",redoIcon:"sound-editor_redo-icon","trim-button":"sound-editor_trim-button",trimButton:"sound-editor_trim-button","effect-button":"sound-editor_effect-button",effectButton:"sound-editor_effect-button","tool-button":"sound-editor_tool-button",toolButton:"sound-editor_tool-button","flip-in-rtl":"sound-editor_flip-in-rtl",flipInRtl:"sound-editor_flip-in-rtl","button-group":"sound-editor_button-group",buttonGroup:"sound-editor_button-group"}},975:function(e,t,n){var a=n(976);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0};n(21)(a,o);a.locals&&(e.exports=a.locals)},976:function(e,t,n){(t=e.exports=n(20)(!1)).push([e.i,"/* origin is 0.625rem 0.55rem 0.6rem */\n\n/* layout contants from `layout-constants.js` */\n\n/* 3.6rem; */\n\n/* blocks 区样式 */\n\n/* mobile style */\n\n/* Theme2 */\n\n/* 通用的间隔 */\n\n/* 圆角大小 */\n\n/* 弹窗标题高度 */\n\n/* 弹窗底部高度 */\n\n/* 侧边栏阴影 */\n\n/*\n  舞台下方编辑区域、代码编辑主区域、toolbox 区域\n*/\n\n/* #E5F0FF */\n\n/* #E9F1FC */\n\n/* #D9E3F2 */\n\n/* 90% transparent version of motion-primary */\n\n/* #FFFFFF */\n\n/* 25% transparent version of ui-white */\n\n/* 15% transparent version of black */\n\n/* #575E75 */\n\n/* #4C97FF */\n\n/* #3373CC */\n\n/* 35% transparent version of motion-primary */\n\n/* #FF661A */\n\n/* #E64D00 */\n\n/* #CF63CF */\n\n/* #BD42BD */\n\n/* #FFAB19 */\n\n/* #FF8C1A */\n\n/* #0FBD8C */\n\n/* 主页面背景颜色 */\n\n/* tab 栏常规 */\n\n/* 主色调颜色（蓝色）：包含：选中的字体颜色、主要按钮颜色 */\n\n/* border 颜色 */\n\n/* 灰色提示文字颜色 */\n\n/* 辅助文字颜色 */\n\n/* 分割线颜色 */\n\n/* 一般字体颜色 */\n\n/* 主要按钮hover颜色 */\n\n/* 按钮点击颜色 */\n\n/* 危险按钮颜色 */\n\n/* 危险按钮hover颜色 */\n\n/* mobile style */\n\n/* 25% transparent version of ui-white */\n\n.label_input-group {\n    display: -webkit-inline-box;\n    display: -webkit-inline-flex;\n    display: -ms-inline-flexbox;\n    display: inline-flex;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: row;\n        -ms-flex-direction: row;\n            flex-direction: row;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n\n.label_input-label, .label_input-label-secondary {\n    font-size: 12px;\n    margin-right: calc(0.5rem / 2);\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    cursor: default;\n    white-space: nowrap;\n}\n\n.label_input-label {\n    font-weight: bold;\n    white-space: nowrap;\n}\n",""]),t.locals={"input-group":"label_input-group",inputGroup:"label_input-group","input-label":"label_input-label",inputLabel:"label_input-label","input-label-secondary":"label_input-label-secondary",inputLabelSecondary:"label_input-label-secondary"}},977:function(e,t,n){e.exports=n.p+"static/resource/af2202211ca1873edb949012dab6f9d1.svg"},978:function(e,t,n){e.exports=n.p+"static/resource/7c417cd2ff5d03f924e0ec8f380ad972.svg"},979:function(e,t,n){e.exports=n.p+"static/resource/e87650f1dc477d708bd4a839c7bde4a8.svg"},980:function(e,t,n){e.exports=n.p+"static/resource/a3a641587a3c797ca626badeb2748885.svg"},981:function(e,t,n){e.exports=n.p+"static/resource/9073974a46352f66214bf99db01aab28.svg"},982:function(e,t,n){e.exports=n.p+"static/resource/42bede21a59051341e756d2ae3f64723.svg"},983:function(e,t,n){var a=n(984);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0};n(21)(a,o);a.locals&&(e.exports=a.locals)},984:function(e,t,n){(t=e.exports=n(20)(!1)).push([e.i,"/*\n  舞台下方编辑区域、代码编辑主区域、toolbox 区域\n*/\n/* #E5F0FF */\n/* #E9F1FC */\n/* #D9E3F2 */\n/* 90% transparent version of motion-primary */\n/* #FFFFFF */\n/* 25% transparent version of ui-white */\n/* 15% transparent version of black */\n/* #575E75 */\n/* #4C97FF */\n/* #3373CC */\n/* 35% transparent version of motion-primary */\n/* #FF661A */\n/* #E64D00 */\n/* #CF63CF */\n/* #BD42BD */\n/* #FFAB19 */\n/* #FF8C1A */\n/* #0FBD8C */\n/* 主页面背景颜色 */\n/* tab 栏常规 */\n/* 主色调颜色（蓝色）：包含：选中的字体颜色、主要按钮颜色 */\n/* border 颜色 */\n/* 灰色提示文字颜色 */\n/* 辅助文字颜色 */\n/* 分割线颜色 */\n/* 一般字体颜色 */\n/* 主要按钮hover颜色 */\n/* 按钮点击颜色 */\n/* 危险按钮颜色 */\n/* 危险按钮hover颜色 */\n/* mobile style */\n/* 25% transparent version of ui-white */\n.waveform_container {\n    width: 100%;\n}\n.waveform_waveform-path {\n    /*\n        This color is lighter than sound-primary, but\n        cannot use alpha because of overlapping elements.\n    */\n    fill: hsl(300, 54%, 72%);\n    stroke: hsla(300, 48%, 50%, 1);\n}\n.waveform_baseline {\n    stroke: hsla(300, 48%, 50%, 1);\n}\n",""]),t.locals={container:"waveform_container","waveform-path":"waveform_waveform-path",waveformPath:"waveform_waveform-path",baseline:"waveform_baseline"}},985:function(e,t,n){(t=e.exports=n(20)(!1)).push([e.i,"/*\n  舞台下方编辑区域、代码编辑主区域、toolbox 区域\n*/\n/* #E5F0FF */\n/* #E9F1FC */\n/* #D9E3F2 */\n/* 90% transparent version of motion-primary */\n/* #FFFFFF */\n/* 25% transparent version of ui-white */\n/* 15% transparent version of black */\n/* #575E75 */\n/* #4C97FF */\n/* #3373CC */\n/* 35% transparent version of motion-primary */\n/* #FF661A */\n/* #E64D00 */\n/* #CF63CF */\n/* #BD42BD */\n/* #FFAB19 */\n/* #FF8C1A */\n/* #0FBD8C */\n/* 主页面背景颜色 */\n/* tab 栏常规 */\n/* 主色调颜色（蓝色）：包含：选中的字体颜色、主要按钮颜色 */\n/* border 颜色 */\n/* 灰色提示文字颜色 */\n/* 辅助文字颜色 */\n/* 分割线颜色 */\n/* 一般字体颜色 */\n/* 主要按钮hover颜色 */\n/* 按钮点击颜色 */\n/* 危险按钮颜色 */\n/* 危险按钮hover颜色 */\n/* mobile style */\n/* 25% transparent version of ui-white */\n.audio-trimmer_absolute {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n\n    /* Force the browser to paint separately to avoid composite cost with waveform */\n    -webkit-transform: translateZ(0);\n            transform: translateZ(0);\n}\n.audio-trimmer_selector {\n    cursor: pointer;\n}\n.audio-trimmer_trim-background {\n    cursor: pointer;\n    -ms-touch-action: none;\n        touch-action: none;\n}\n.audio-trimmer_trim-background-mask {\n    border: 1px solid hsla(20, 100%, 45%, 1);\n    opacity: 0.5;\n\n    background: -o-repeating-linear-gradient(\n        45deg,\n        hsla(20, 100%, 55%, 1),\n        hsla(20, 100%, 55%, 1) 10px,\n        hsla(20, 100%, 45%, 1) 10px,\n        hsla(20, 100%, 45%, 1) calc(2 * 10px)\n    );\n\n    background: repeating-linear-gradient(\n        45deg,\n        hsla(20, 100%, 55%, 1),\n        hsla(20, 100%, 55%, 1) 10px,\n        hsla(20, 100%, 45%, 1) 10px,\n        hsla(20, 100%, 45%, 1) calc(2 * 10px)\n    );\n}\n.audio-trimmer_selection-background {\n    background: hsla(215, 100%, 65%, 1);\n    opacity: 0.5;\n}\n.audio-trimmer_start-trim-background .audio-trimmer_trim-background-mask {\n    border-top-left-radius: 4px;\n    border-bottom-left-radius: 4px;\n}\n.audio-trimmer_end-trim-background .audio-trimmer_trim-background-mask {\n    border-top-right-radius: 4px;\n    border-bottom-right-radius: 4px;\n}\n.audio-trimmer_trim-line {\n    position: absolute;\n    top: 0;\n    width: 0px;\n    height: 100%;\n    border: 1px solid hsla(20, 100%, 45%, 1);\n}\n.audio-trimmer_selector .audio-trimmer_trim-line {\n    border: 1px solid hsla(215, 60%, 50%, 1);\n}\n.audio-trimmer_playhead-container {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n}\n.audio-trimmer_playhead {\n    /*\n        Even though playhead is just a line, it is 100% width (the width of the waveform)\n        so that we can use transform: translateX() using percentages.\n    */\n    width: 100%;\n    height: 100%;\n    border-left: 1px solid hsla(215, 100%, 65%, 1);\n    border-top: none;\n    border-bottom: none;\n    border-right: none;\n}\n.audio-trimmer_right-handle {\n    -webkit-transform: scaleX(-1);\n        -ms-transform: scaleX(-1);\n            transform: scaleX(-1);\n}\n.audio-trimmer_selector .audio-trimmer_left-handle {\n    left: -1px\n}\n.audio-trimmer_selector .audio-trimmer_right-handle {\n    right: -1px\n}\n.audio-trimmer_trimmer .audio-trimmer_left-handle {\n    right: -1px\n}\n.audio-trimmer_trimmer .audio-trimmer_right-handle {\n    left: -1px\n}\n.audio-trimmer_trim-handle {\n    position: absolute;\n    width: 30px;\n    height: 30px;\n    right: 0;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n.audio-trimmer_trimmer .audio-trimmer_trim-handle {\n    -webkit-filter: hue-rotate(150deg);\n            filter: hue-rotate(150deg);\n}\n.audio-trimmer_trim-handle img {\n    position: absolute;\n    width: 30px;\n    height: 30px;\n    left: calc(3px * 1.5);\n\n    /* Make sure image dragging isn't triggered */\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n    user-drag: none;\n    -webkit-user-drag: none; /* Autoprefixer doesn't seem to work for this */\n\n    -webkit-transition: 0.2s;\n\n    -o-transition: 0.2s;\n\n    transition: 0.2s;\n}\n.audio-trimmer_top-trim-handle {\n    top: calc(-30px + 3px);\n}\n.audio-trimmer_bottom-trim-handle {\n    bottom: calc(-30px + 3px);\n}\n.audio-trimmer_top-trim-handle img {\n    -webkit-transform: scaleY(-1);\n        -ms-transform: scaleY(-1);\n            transform: scaleY(-1);\n}\n",""]),t.locals={absolute:"audio-trimmer_absolute",selector:"audio-trimmer_selector","trim-background":"audio-trimmer_trim-background",trimBackground:"audio-trimmer_trim-background","trim-background-mask":"audio-trimmer_trim-background-mask",trimBackgroundMask:"audio-trimmer_trim-background-mask","selection-background":"audio-trimmer_selection-background",selectionBackground:"audio-trimmer_selection-background","start-trim-background":"audio-trimmer_start-trim-background",startTrimBackground:"audio-trimmer_start-trim-background","end-trim-background":"audio-trimmer_end-trim-background",endTrimBackground:"audio-trimmer_end-trim-background","trim-line":"audio-trimmer_trim-line",trimLine:"audio-trimmer_trim-line","playhead-container":"audio-trimmer_playhead-container",playheadContainer:"audio-trimmer_playhead-container",playhead:"audio-trimmer_playhead","right-handle":"audio-trimmer_right-handle",rightHandle:"audio-trimmer_right-handle","left-handle":"audio-trimmer_left-handle",leftHandle:"audio-trimmer_left-handle",trimmer:"audio-trimmer_trimmer","trim-handle":"audio-trimmer_trim-handle",trimHandle:"audio-trimmer_trim-handle","top-trim-handle":"audio-trimmer_top-trim-handle",topTrimHandle:"audio-trimmer_top-trim-handle","bottom-trim-handle":"audio-trimmer_bottom-trim-handle",bottomTrimHandle:"audio-trimmer_bottom-trim-handle"}},986:function(e,t,n){e.exports=n.p+"static/resource/610fb87d66b6749aeb96d475ceb62940.svg"},987:function(e,t,n){e.exports=n.p+"static/resource/481fbac64b59203d7ddffa564a7537d8.svg"},988:function(e,t,n){e.exports=n.p+"static/resource/b5257afbe4bcf7953029ddb8f18b24fe.svg"},989:function(e,t,n){e.exports=n.p+"static/resource/8279ce395d0333b880b8be6d243fd111.svg"},990:function(e,t,n){e.exports=n.p+"static/resource/424371873bc8df88d6a305d8727157ab.svg"},991:function(e,t,n){e.exports=n.p+"static/resource/b2c44c738c9cbc1a99cd6edfd0c2b85b.svg"},992:function(e,t,n){e.exports=n.p+"static/resource/3547fa1f2678a483a19f46852f36b426.svg"},993:function(e,t,n){e.exports=n.p+"static/resource/e21225ab4b675bc61eed30cfb510c288.svg"},994:function(e,t,n){e.exports=n.p+"static/resource/42428924171999cebe3efd5e70b7bc53.svg"},995:function(e,t,n){e.exports=n.p+"static/resource/f22d5ea0ef6a46b2a4a174fed722c396.svg"},996:function(e,t,n){e.exports=n.p+"static/resource/fe5afd6776eac0f7724b132a9ff5057d.svg"},997:function(e,t,n){e.exports=n.p+"static/resource/199f58b4a80fa56c5d8e032d6da5e9c2.svg"},998:function(e,t,n){(t=e.exports=n(20)(!1)).push([e.i,'/*\n  舞台下方编辑区域、代码编辑主区域、toolbox 区域\n*/\n/* #E5F0FF */\n/* #E9F1FC */\n/* #D9E3F2 */\n/* 90% transparent version of motion-primary */\n/* #FFFFFF */\n/* 25% transparent version of ui-white */\n/* 15% transparent version of black */\n/* #575E75 */\n/* #4C97FF */\n/* #3373CC */\n/* 35% transparent version of motion-primary */\n/* #FF661A */\n/* #E64D00 */\n/* #CF63CF */\n/* #BD42BD */\n/* #FFAB19 */\n/* #FF8C1A */\n/* #0FBD8C */\n/* 主页面背景颜色 */\n/* tab 栏常规 */\n/* 主色调颜色（蓝色）：包含：选中的字体颜色、主要按钮颜色 */\n/* border 颜色 */\n/* 灰色提示文字颜色 */\n/* 辅助文字颜色 */\n/* 分割线颜色 */\n/* 一般字体颜色 */\n/* 主要按钮hover颜色 */\n/* 按钮点击颜色 */\n/* 危险按钮颜色 */\n/* 危险按钮hover颜色 */\n/* mobile style */\n/* 25% transparent version of ui-white */\n/* origin is 0.625rem 0.55rem 0.6rem */\n/* layout contants from `layout-constants.js` */\n/* 3.6rem; */\n/* blocks 区样式 */\n/* mobile style */\n/* Theme2 */\n/* 通用的间隔 */\n/* 圆角大小 */\n/* 弹窗标题高度 */\n/* 弹窗底部高度 */\n/* 侧边栏阴影 */\n.record-modal_modal-content {\n    width: 600px;\n}\n.record-modal_body {\n    background: white;\n    padding: 1.5rem 2.25rem;\n}\n.record-modal_visualization-container {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-justify-content: space-around;\n        -ms-flex-pack: distribute;\n            justify-content: space-around;\n}\n.record-modal_meter-container, .record-modal_waveform-container {\n    background: #f9f9f9;\n    border: 1px solid var(--LINE-COLOR);\n    border-radius: 5px;\n    padding: 3px;\n\n}\n.record-modal_meter-container {\n    margin-right: 5px;\n    height: 180px;\n}\n.record-modal_waveform-container {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-justify-content: space-around;\n        -ms-flex-pack: distribute;\n            justify-content: space-around;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n        -ms-flex-align: center;\n            align-items: center;\n    width: 100%;\n    height: 180px;\n    position: relative;\n}\n.record-modal_help-text {\n    margin: 10px auto 0;\n    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\n    color: rgb(167, 170, 181);\n    font-size: 0.95rem;\n    font-weight: 500;\n}\n.record-modal_playing-text {\n    color: hsla(215, 100%, 65%, 1);\n}\n.record-modal_recording-text {\n    color: hsla(20, 100%, 55%, 1);\n}\n.record-modal_main-button-row {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-justify-content: space-around;\n        -ms-flex-pack: distribute;\n            justify-content: space-around;\n    margin-top: 15px;\n}\n.record-modal_main-button-row button {\n    padding: 0.5rem 0.75rem;\n    border-radius: 0.25rem;\n    background: transparent;\n    border: none;\n}\n.record-modal_main-button-row button:disabled {\n    opacity: 0.25;\n}\n.record-modal_main-button-row button:active, .record-modal_main-button-row button:focus {\n    outline: none;\n}\n.record-modal_button-row {\n    font-weight: bolder;\n    text-align: right;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n}\n.record-modal_button-row button {\n    padding: 0.75rem 1rem;\n    border-radius: 0.25rem;\n    background: white;\n    border: 1px solid var(--LINE-COLOR);\n    font-weight: 600;\n    font-size: 0.85rem;\n    color: hsla(215, 100%, 65%, 1);\n}\n.record-modal_button-row button.record-modal_ok-button {\n    background: hsla(215, 100%, 65%, 1);\n    border: hsla(215, 100%, 65%, 1);\n    color: white;\n}\n.record-modal_button-row button + button {\n    margin-left: 0.5rem;\n}\n.record-modal_main-button {\n    text-align: center;\n}\n.record-modal_record-button {\n    overflow: visible;\n}\n.record-modal_record-button-circle {\n    fill: hsla(20, 100%, 55%, 1);\n    stroke: hsla(20, 100%, 45%, 1);\n}\n.record-modal_record-button-circle-outline {\n    fill: hsla(20, 100%, 55%, 1);\n    opacity: 0.2;\n    -webkit-transition: 0.1s;\n    -o-transition: 0.1s;\n    transition: 0.1s;\n}\n',""]),t.locals={"modal-content":"record-modal_modal-content",modalContent:"record-modal_modal-content",body:"record-modal_body","visualization-container":"record-modal_visualization-container",visualizationContainer:"record-modal_visualization-container","meter-container":"record-modal_meter-container",meterContainer:"record-modal_meter-container","waveform-container":"record-modal_waveform-container",waveformContainer:"record-modal_waveform-container","help-text":"record-modal_help-text",helpText:"record-modal_help-text","playing-text":"record-modal_playing-text",playingText:"record-modal_playing-text","recording-text":"record-modal_recording-text",recordingText:"record-modal_recording-text","main-button-row":"record-modal_main-button-row",mainButtonRow:"record-modal_main-button-row","button-row":"record-modal_button-row",buttonRow:"record-modal_button-row","ok-button":"record-modal_ok-button",okButton:"record-modal_ok-button","main-button":"record-modal_main-button",mainButton:"record-modal_main-button","record-button":"record-modal_record-button",recordButton:"record-modal_record-button","record-button-circle":"record-modal_record-button-circle",recordButtonCircle:"record-modal_record-button-circle","record-button-circle-outline":"record-modal_record-button-circle-outline",recordButtonCircleOutline:"record-modal_record-button-circle-outline"}},999:function(e,t,n){var a=n(1e3);"string"==typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0};n(21)(a,o);a.locals&&(e.exports=a.locals)}}]);
//# sourceMappingURL=mblock.5ab7ce3d91bc6014.js.map